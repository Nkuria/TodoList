(()=>{"use strict";const e=function(e,t,n,d,o,c){this.title=e,this.description=t,this.dueDate=n,this.priority=d,this.notes=o,this.checklist=c,this.edit=(e,t,n,d,o,c)=>{this.title=e,this.description=t,this.dueDate=n,this.priority=d,this.notes=o,this.checklist=c},this.changePriority=(e,t)=>{e.innerHTML=t,this.priority=t},this.changeCompletionBtn=e=>{e.innerHTML="completed",this.checklist="completed"}};function t(e){this.title=e,this.todos=[],this.addTodo=e=>{this.todos.push(e)},this.deleteTodo=e=>{this.todos.splice(e,1)}}const n=new t("Default");n.addTodo(new e("Visit Dentist","See the dentist for molar evaluation","23/03/2010","high","Leave immediately after school","checked")),n.addTodo(new e("Write Article","Write an article on the difference between pass by value and pass by reference","23/03/2010","medium","Set the target audience to begginers","checked"));const d=n=>{const d=new t(n.title);for(let t=0;t<n.todos.length;t+=1)d.addTodo(new e(n.todos[t].title,n.todos[t].description,n.todos[t].dueDate,n.todos[t].priority,n.todos[t].notes,n.todos[t].checklist));return d},o=e=>(e=>{const t=[];for(let n=0;n<e.length;n+=1)t.push(d(e[n]));return t})(JSON.parse(window.localStorage.getItem(e))),c=(e,t)=>window.localStorage.setItem(e,JSON.stringify(t));c("projects",[n]);const i=document.getElementById("content"),a=document.createElement("div"),l=document.createElement("div");i.appendChild(a),i.appendChild(l);const r=(e,t)=>{const n=document.getElementById("todo-wrap");null!=n&&n.remove();const d=document.createElement("div");d.classList.add("todo-wrap"),d.id="todo-wrap";const o=(e,t,n,d)=>{const o=document.createElement("div");o.classList.add("todo-items");const c=document.createElement("h3");c.classList.add("todo-title"),c.textContent=t.title;const i=document.createElement("p");i.classList.add("todo-desc"),i.textContent=t.description;const a=document.createElement("p");a.classList.add("todo-date"),a.textContent=t.dueDate;const r=document.createElement("p");r.classList.add("todo-notes"),r.textContent=t.notes;const s=document.createElement("div");s.classList.add("todo-priority"),s.textContent=t.priority;const p=document.createElement("div");p.classList.add("priority-container");const m=document.createElement("button");m.innerHTML="Change to high",m.classList.add("high-priority"),m.addEventListener("click",(()=>{t.changePriority(s,"high")}));const u=document.createElement("button");u.innerHTML="Change to Medium",u.classList.add("medium-priority"),u.addEventListener("click",(()=>{t.changePriority(s,"medium")}));const h=document.createElement("button");h.innerHTML="Change to Low",h.classList.add("high-priority"),h.addEventListener("click",(()=>{t.changePriority(s,"low")})),p.appendChild(m),p.appendChild(u),p.appendChild(h);const C=document.createElement("div");C.classList.add("todo-checklist"),C.textContent=t.checklist;const E=document.createElement("button");E.innerHTML="Mark as completed",E.classList.add("change-completion"),E.addEventListener("click",(()=>{t.changeCompletionBtn(C)}));const v=document.createElement("button");v.innerHTML="edit",v.type="button",v.classList.add("edit-todo"),v.addEventListener("click",(()=>{((e,t)=>{const n=document.createElement("div");n.classList.add("form-container"),n.classList.add("modal"),n.id="edit-todo-form",l.appendChild(n);const d=document.createElement("form");d.classList.add("list-form"),n.appendChild(d);const o=document.createElement("input");o.placeholder="Enter Title",o.value=t.title,d.appendChild(o);const c=document.createElement("input");c.placeholder="Enter Description",c.value=t.description,d.appendChild(c);const i=document.createElement("input");i.type="date",i.value=t.dueDate,d.appendChild(i);const a=document.createElement("label");a.textContent="Urgent",d.appendChild(a);const r=document.createElement("input");r.type="radio",r.name="priority",r.value="high",t.priority===r.value&&(r.checked=!0),d.appendChild(r);const s=document.createElement("label");s.textContent="important",d.appendChild(s);const p=document.createElement("input");p.type="radio",p.name="priority",p.value="medium",t.priority===p.value&&(p.checked=!0),d.appendChild(p);const m=document.createElement("label");m.textContent="normal",d.appendChild(m);const u=document.createElement("input");u.type="radio",u.name="priority",u.value="low",t.priority===u.value&&(u.checked=!0),d.appendChild(u);const h=document.createElement("input");h.placeholder="Add Note",h.value=t.notes,d.appendChild(h);const C=document.createElement("label");C.textContent="Completed",d.appendChild(C);const E=document.createElement("input");E.type="checkbox",E.checked="completed"===t.checklist,d.appendChild(E);const v=document.createElement("button");v.type="button",v.textContent="Save",v.addEventListener("click",(()=>{t.edit(o.value,c.value,i.value,!0===r.checked?r.value:!0===p.checked?p.value:u.value,h.value,!0===E.checked?"completed":"pending"),((e,t)=>{const n=document.getElementById("edit-todo-form");null!=n&&n.remove(),e.title.innerHTML=t.title,e.description.innerHTML=t.description,e.dueDate.innerHTML=t.dueDate,e.notes.innerHTML=t.notes,e.priority.innerHTML=t.priority,e.checklist.innerHTML=t.checklist})(e,t)})),d.appendChild(v)})({title:c,description:i,dueDate:a,notes:r,priority:s,checklist:C},t)}));const L=document.createElement("button");L.innerHTML="Delete ToDo",L.classList.add("delete-todo-btn"),L.addEventListener("click",(()=>{d.deleteTodo(0)})),o.appendChild(c),o.appendChild(i),o.appendChild(a),o.appendChild(r),o.appendChild(s),o.appendChild(p),o.appendChild(C),o.appendChild(E),o.appendChild(v),o.appendChild(L),e.appendChild(o)};for(let n=0;n<e.length;n+=1)o(d,e[n],0,t);l.appendChild(d)},s=t=>{const n=document.getElementById("project-form-container");null!=n&&n.remove();const d=document.getElementById("project-wrap");null!=d&&d.remove();const o=document.createElement("div");o.classList.add("project-wrap"),o.id="project-wrap";const c=(t,n)=>{const d=document.createElement("div");d.classList.add("project-items"),d.addEventListener("click",(()=>{(t=>{const n=document.getElementById("form-container");null!=n&&n.remove();const d=document.createElement("div");l.appendChild(d),d.classList.add("form-container"),d.id="form-container";const o=document.createElement("form");o.classList.add("list-form"),d.appendChild(o);const c=document.createElement("input");c.placeholder="Enter Title",o.appendChild(c);const i=document.createElement("input");i.placeholder="Enter Description",o.appendChild(i);const a=document.createElement("input");a.type="date",a.placeholder="Enter Description",o.appendChild(a);const s=document.createElement("label");s.textContent="Urgent",o.appendChild(s);const p=document.createElement("input");p.type="radio",p.name="priority",p.value="high",o.appendChild(p);const m=document.createElement("label");m.textContent="important",o.appendChild(m);const u=document.createElement("input");u.type="radio",u.name="priority",u.value="medium",o.appendChild(u);const h=document.createElement("label");h.textContent="normal",o.appendChild(h);const C=document.createElement("input");C.type="radio",C.name="priority",C.value="low",o.appendChild(C);const E=document.createElement("input");E.placeholder="Add Note",o.appendChild(E);const v=document.createElement("label");v.textContent="Completed",o.appendChild(v);const L=document.createElement("input");L.type="checkbox",o.appendChild(L);const y=document.createElement("button");y.type="button",y.textContent="add",y.addEventListener("click",(()=>{t.addTodo(new e(c.value,i.value,a.value,!0===p.checked?p.value:!0===u.checked?u.value:C.value,E.value,!0===L.checked?"completed":"pending")),document.getElementById("todo-wrap").innerHTML="",r(t.todos)})),o.appendChild(y)})(n),r(n.todos,n)}));const o=document.createElement("h3");o.classList.add("todo-title"),o.textContent=n.title,d.appendChild(o),t.appendChild(d)};for(let e=0;e<t.length;e+=1)c(o,t[e]);a.appendChild(o)},p=document.createElement("button");p.classList.add("new-project-button"),p.innerHTML="New Project",a.appendChild(p),p.addEventListener("click",(()=>{(()=>{const e=document.createElement("div");e.classList.add("project-form-container"),e.id="project-form-container",a.appendChild(e);const n=document.createElement("form");n.classList.add("project-form"),e.appendChild(n);const d=document.createElement("input");d.placeholder="Project Title",n.appendChild(d);const i=document.createElement("button");i.innerHTML="Create Project",i.type="button",n.appendChild(i),i.addEventListener("click",(()=>{((e,t)=>{const n=o(e);n.push(t),c(e,n)})("projects",new t(d.value)),s(o("projects"))}))})()})),s(o("projects"))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ub2RvTGlzdC8uL3NyYy9uZXdUb2RvLmpzIiwid2VicGFjazovL1RvZG9MaXN0Ly4vc3JjL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vVG9kb0xpc3QvLi9zcmMvbG9jYWxTdG9yYWdlLmpzIiwid2VicGFjazovL1RvZG9MaXN0Ly4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly9Ub2RvTGlzdC8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5Iiwibm90ZXMiLCJjaGVja2xpc3QiLCJ0aGlzIiwiZWRpdCIsIm5ld1RpdGxlIiwibmV3ZGVzY3JpcHRpb24iLCJuZXdEdWVEYXRlIiwibmV3UHJpb3JpdHkiLCJuZXdOb3RlcyIsIm5ld0NoZWNrbGlzdCIsImNoYW5nZVByaW9yaXR5IiwidGFyZ2V0IiwidGV4dCIsImlubmVySFRNTCIsImNoYW5nZUNvbXBsZXRpb25CdG4iLCJQcm9qZWN0IiwidG9kb3MiLCJhZGRUb2RvIiwib2JqIiwicHVzaCIsImRlbGV0ZVRvZG8iLCJpbmRleCIsInNwbGljZSIsInByb2plY3RPbmUiLCJjb252ZXJ0SnNvblRvVG9kbyIsImpzb25BcnIiLCJob2xkZXIiLCJqIiwibGVuZ3RoIiwiZmV0Y2hJdGVtIiwibmFtZSIsInByb2plY3RzIiwiaSIsImNvbnZlcnRKc29uVG9Qcm9qZWN0IiwiSlNPTiIsInBhcnNlIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInN0b3JlSXRlbSIsImRhdGEiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiYm9keSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJib2R5TGVmdCIsImNyZWF0ZUVsZW1lbnQiLCJib2R5UmlnaHQiLCJhcHBlbmRDaGlsZCIsImRpc3BsYXlUb2RvSXRlbXMiLCJhcnIiLCJwcm9qZWN0Iiwib2xkVG9kb3MiLCJyZW1vdmUiLCJ0b2RvV3JhcCIsImNsYXNzTGlzdCIsImFkZCIsImlkIiwidG9kb0l0ZW1NYWtlciIsInBhcmVudCIsInRvZG9JdGVtIiwidG9kb1RpdGxlIiwidGV4dENvbnRlbnQiLCJ0b2RvRGVzYyIsInRvZG9EdWVEYXRlIiwidG9kb05vdGVzIiwidG9kb1ByaW9yaXR5IiwicHJpb3JpdHlDb250YWluZXIiLCJoaWdoUHJpb3JpdHkiLCJhZGRFdmVudExpc3RlbmVyIiwibWVkaXVtUHJpb3JpdHkiLCJub3JtYWxQcmlvcml0eSIsInRvZG9DaGVja0xpc3QiLCJjaGFuZ2Vjb21wbGV0aW9uIiwiZWRpdEJ0biIsInR5cGUiLCJkb21PYmoiLCJmb3JtQ29udGFpbmVyIiwibGlzdEZvcm0iLCJwbGFjZWhvbGRlciIsInZhbHVlIiwidG9kb0Rlc2NyaXB0aW9uIiwibGFiZWxIaWdoIiwiY2hlY2tlZCIsImxhYmVsTWVkaXVtIiwibGFiZWxMb3ciLCJsb3dQcmlvcml0eSIsInRvZG9Ob3RlIiwiY29tcGxldGVMYWJlbCIsInNhdmVUb2RvQnRuIiwidG9kb09iaiIsIm9sZEZvcm0iLCJ1cGRhdGVUb2RvSXRlbSIsImRpc3BsYXlFZGl0Rm9ybSIsImRlbGV0ZVRvZG9CdG4iLCJkaXNwbGF5UHJvamVjdHMiLCJvbGRQcm9qZWN0cyIsInByb2plY3RXcmFwIiwicHJvamVjdEl0ZW1NYWtlciIsInByb2plY3RJdGVtIiwidG9kb0J0biIsIm5ld0xpc3QiLCJwcm9qZWN0VGl0bGUiLCJuZXdQcm9qZWN0QnRuIiwicHJvamVjdEZvcm1Db250YWluZXIiLCJwcm9qZWN0Rm9ybSIsImFkZFByb2plY3RCdG4iLCJwcm9qZWN0T2JqIiwicHJvamVjdEFyciIsImFkZEl0ZW0iLCJuZXdQcm9qZWN0Il0sIm1hcHBpbmdzIjoibUJBZ0NBLFFBaENBLFNBQWNBLEVBQU9DLEVBQWFDLEVBQVNDLEVBQVVDLEVBQU9DLEdBQzFEQyxLQUFLTixNQUFRQSxFQUNiTSxLQUFLTCxZQUFjQSxFQUNuQkssS0FBS0osUUFBVUEsRUFDZkksS0FBS0gsU0FBV0EsRUFDaEJHLEtBQUtGLE1BQVFBLEVB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L0IsS0FBTyxTQUNyQjhCLEVBQVl6RCxZQUFZMEQsR0FFeEJBLEVBQWNyQyxpQkFBaUIsU0FBUyxLRDdXMUIsRUFBQ3hDLEVBQU04RSxLQUNyQixNQUFNQyxFQUFhaEYsRUFBVUMsR0FDN0IrRSxFQUFXMUYsS0FBS3lGLEdBQ2hCckUsRUFBVVQsRUFBTStFLElDMldkQyxDQUFRLFdBQVksSUFBSS9GLEVBQVF3RixFQUFhdEIsUUFDN0NlLEVBQWdCbkUsRUFBVSxpQkFTNUJrRixNQ3hhRmYsRUFBZ0JuRSxFQUFVLGMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFRvZG8odGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgbm90ZXMsIGNoZWNrbGlzdCkge1xuICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICB0aGlzLm5vdGVzID0gbm90ZXM7XG4gIHRoaXMuY2hlY2tsaXN0ID0gY2hlY2tsaXN0O1xuXG4gIHRoaXMuZWRpdCA9IChuZXdUaXRsZSwgbmV3ZGVzY3JpcHRpb24sIG5ld0R1ZURhdGUsIG5ld1ByaW9yaXR5LCBuZXdOb3RlcywgbmV3Q2hlY2tsaXN0KSA9PiB7XG4gICAgdGhpcy50aXRsZSA9IG5ld1RpdGxlO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBuZXdkZXNjcmlwdGlvbjtcbiAgICB0aGlzLmR1ZURhdGUgPSBuZXdEdWVEYXRlO1xuICAgIHRoaXMucHJpb3JpdHkgPSBuZXdQcmlvcml0eTtcbiAgICB0aGlzLm5vdGVzID0gbmV3Tm90ZXM7XG4gICAgdGhpcy5jaGVja2xpc3QgPSBuZXdDaGVja2xpc3Q7XG4gIH07XG5cbiAgdGhpcy5jaGFuZ2VQcmlvcml0eSA9ICh0YXJnZXQsIHRleHQpID0+IHtcbiAgICB0YXJnZXQuaW5uZXJIVE1MID0gdGV4dDtcbiAgICB0aGlzLnByaW9yaXR5ID0gdGV4dDtcbiAgfTtcblxuICB0aGlzLmNoYW5nZUNvbXBsZXRpb25CdG4gPSAodGFyZ2V0KSA9PiB7XG4gICAgdGFyZ2V0LmlubmVySFRNTCA9ICdjb21wbGV0ZWQnO1xuICAgIHRoaXMuY2hlY2tsaXN0ID0gJ2NvbXBsZXRlZCc7XG4gIH07XG5cbiAgLy8gdGhpcy5kZWxldGVUb2RvID0gKGluZGV4KSA9PiB7XG4gIC8vICAgdGhpcy50b2Rvcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAvLyB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBUb2RvO1xuIiwiZnVuY3Rpb24gUHJvamVjdCh0aXRsZSkge1xuICB0aGlzLnRpdGxlID0gdGl0bGU7XG5cbiAgdGhpcy50b2RvcyA9IFtdO1xuXG4gIHRoaXMuYWRkVG9kbyA9IChvYmopID0+IHtcbiAgICB0aGlzLnRvZG9zLnB1c2gob2JqKTtcbiAgfTtcblxuICB0aGlzLmRlbGV0ZVRvZG8gPSAoaW5kZXgpID0+IHtcbiAgICB0aGlzLnRvZG9zLnNwbGljZShpbmRleCwgMSk7XG4gIH07XG59XG5cbmV4cG9ydCB7IFByb2plY3QgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBUb2RvIGZyb20gJy4vbmV3VG9kbyc7XG5pbXBvcnQgUHJvamVjdCBmcm9tICcuL3Byb2plY3QnO1xuXG5jb25zdCBwcm9qZWN0T25lID0gbmV3IFByb2plY3QoJ0RlZmF1bHQnKTtcbnByb2plY3RPbmUuYWRkVG9kbyhuZXcgVG9kbyhcbiAgJ1Zpc2l0IERlbnRpc3QnLFxuICAnU2VlIHRoZSBkZW50aXN0IGZvciBtb2xhciBldmFsdWF0aW9uJyxcbiAgJzIzLzAzLzIwMTAnLFxuICAnaGlnaCcsXG4gICdMZWF2ZSBpbW1lZGlhdGVseSBhZnRlciBzY2hvb2wnLFxuICAnY2hlY2tlZCcsXG4pKTtcblxucHJvamVjdE9uZS5hZGRUb2RvKG5ldyBUb2RvKFxuICAnV3JpdGUgQXJ0aWNsZScsXG4gICdXcml0ZSBhbiBhcnRpY2xlIG9uIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gcGFzcyBieSB2YWx1ZSBhbmQgcGFzcyBieSByZWZlcmVuY2UnLFxuICAnMjMvMDMvMjAxMCcsXG4gICdtZWRpdW0nLFxuICAnU2V0IHRoZSB0YXJnZXQgYXVkaWVuY2UgdG8gYmVnZ2luZXJzJyxcbiAgJ2NoZWNrZWQnLFxuKSk7XG5cbmNvbnN0IGNvbnZlcnRKc29uVG9Ub2RvID0gKGpzb25BcnIpID0+IHtcbiAgY29uc3QgaG9sZGVyID0gbmV3IFByb2plY3QoanNvbkFyci50aXRsZSk7XG4gIGZvciAobGV0IGogPSAwOyBqIDwganNvbkFyci50b2Rvcy5sZW5ndGg7IGogKz0gMSkge1xuICAgIGhvbGRlci5hZGRUb2RvKG5ldyBUb2RvKFxuICAgICAganNvbkFyci50b2Rvc1tqXS50aXRsZSxcbiAgICAgIGpzb25BcnIudG9kb3Nbal0uZGVzY3JpcHRpb24sXG4gICAgICBqc29uQXJyLnRvZG9zW2pdLmR1ZURhdGUsXG4gICAgICBqc29uQXJyLnRvZG9zW2pdLnByaW9yaXR5LFxuICAgICAganNvbkFyci50b2Rvc1tqXS5ub3RlcyxcbiAgICAgIGpzb25BcnIudG9kb3Nbal0uY2hlY2tsaXN0LFxuICAgICkpO1xuICB9XG4gIHJldHVybiBob2xkZXI7XG59O1xuXG5jb25zdCBjb252ZXJ0SnNvblRvUHJvamVjdCA9IChqc29uQXJyKSA9PiB7XG4gIGNvbnN0IHByb2plY3RzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwganNvbkFyci5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHByb2plY3RzLnB1c2goY29udmVydEpzb25Ub1RvZG8oanNvbkFycltpXSkpO1xuICB9XG4gIHJldHVybiBwcm9qZWN0cztcbn07XG5cbmNvbnN0IGZldGNoSXRlbSA9IG5hbWUgPT4ge1xuICBjb25zdCBqc29uID0gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0obmFtZSkpO1xuICByZXR1cm4gY29udmVydEpzb25Ub1Byb2plY3QoanNvbik7XG59O1xuXG5jb25zdCBzdG9yZUl0ZW0gPSAobmFtZSwgZGF0YSkgPT4gd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKG5hbWUsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcblxuY29uc3QgYWRkSXRlbSA9IChuYW1lLCBwcm9qZWN0T2JqKSA9PiB7XG4gIGNvbnN0IHByb2plY3RBcnIgPSBmZXRjaEl0ZW0obmFtZSk7XG4gIHByb2plY3RBcnIucHVzaChwcm9qZWN0T2JqKTtcbiAgc3RvcmVJdGVtKG5hbWUsIHByb2plY3RBcnIpO1xufTtcblxuY29uc3QgZGVmYXVsdFByb2plY3RzID0gW3Byb2plY3RPbmVdO1xuc3RvcmVJdGVtKCdwcm9qZWN0cycsIGRlZmF1bHRQcm9qZWN0cyk7XG5cbmV4cG9ydCB7IGZldGNoSXRlbSwgc3RvcmVJdGVtLCBhZGRJdGVtIH07XG4iLCJpbXBvcnQgVG9kbyBmcm9tICcuL25ld1RvZG8nO1xuaW1wb3J0IFByb2plY3QgZnJvbSAnLi9wcm9qZWN0JztcbmltcG9ydCB7IGZldGNoSXRlbSwgYWRkSXRlbSB9IGZyb20gJy4vbG9jYWxTdG9yYWdlJztcblxuY29uc3QgYm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50Jyk7XG5jb25zdCBib2R5TGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuY29uc3QgYm9keVJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbmJvZHkuYXBwZW5kQ2hpbGQoYm9keUxlZnQpO1xuYm9keS5hcHBlbmRDaGlsZChib2R5UmlnaHQpO1xuXG5jb25zdCB1cGRhdGVUb2RvSXRlbSA9IChkb21PYmosIHRvZG9PYmopID0+IHtcbiAgY29uc3Qgb2xkRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LXRvZG8tZm9ybScpO1xuICBpZiAob2xkRm9ybSAhPSBudWxsKSB7XG4gICAgb2xkRm9ybS5yZW1vdmUoKTtcbiAgfVxuICBkb21PYmoudGl0bGUuaW5uZXJIVE1MID0gdG9kb09iai50aXRsZTtcbiAgZG9tT2JqLmRlc2NyaXB0aW9uLmlubmVySFRNTCA9IHRvZG9PYmouZGVzY3JpcHRpb247XG4gIGRvbU9iai5kdWVEYXRlLmlubmVySFRNTCA9IHRvZG9PYmouZHVlRGF0ZTtcbiAgZG9tT2JqLm5vdGVzLmlubmVySFRNTCA9IHRvZG9PYmoubm90ZXM7XG4gIGRvbU9iai5wcmlvcml0eS5pbm5lckhUTUwgPSB0b2RvT2JqLnByaW9yaXR5O1xuICBkb21PYmouY2hlY2tsaXN0LmlubmVySFRNTCA9IHRvZG9PYmouY2hlY2tsaXN0O1xufTtcblxuY29uc3QgZGlzcGxheUVkaXRGb3JtID0gKGRvbU9iaiwgb2JqKSA9PiB7XG4gIGNvbnN0IGZvcm1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmb3JtLWNvbnRhaW5lcicpO1xuICBmb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21vZGFsJyk7XG4gIGZvcm1Db250YWluZXIuaWQgPSAnZWRpdC10b2RvLWZvcm0nO1xuICBib2R5UmlnaHQuYXBwZW5kQ2hpbGQoZm9ybUNvbnRhaW5lcik7XG5cbiAgY29uc3QgbGlzdEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gIGxpc3RGb3JtLmNsYXNzTGlzdC5hZGQoJ2xpc3QtZm9ybScpO1xuICBmb3JtQ29udGFpbmVyLmFwcGVuZENoaWxkKGxpc3RGb3JtKTtcblxuICBjb25zdCB0b2RvVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICB0b2RvVGl0bGUucGxhY2Vob2xkZXIgPSAnRW50ZXIgVGl0bGUnO1xuICB0b2RvVGl0bGUudmFsdWUgPSBvYmoudGl0bGU7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKHRvZG9UaXRsZSk7XG5cbiAgY29uc3QgdG9kb0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb0Rlc2NyaXB0aW9uLnBsYWNlaG9sZGVyID0gJ0VudGVyIERlc2NyaXB0aW9uJztcbiAgdG9kb0Rlc2NyaXB0aW9uLnZhbHVlID0gb2JqLmRlc2NyaXB0aW9uO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvRGVzY3JpcHRpb24pO1xuXG4gIGNvbnN0IHRvZG9EdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb0R1ZURhdGUudHlwZSA9ICdkYXRlJztcbiAgdG9kb0R1ZURhdGUudmFsdWUgPSBvYmouZHVlRGF0ZTtcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQodG9kb0R1ZURhdGUpO1xuXG4gIGNvbnN0IGxhYmVsSGlnaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGxhYmVsSGlnaC50ZXh0Q29udGVudCA9ICdVcmdlbnQnO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChsYWJlbEhpZ2gpO1xuXG4gIGNvbnN0IGhpZ2hQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGhpZ2hQcmlvcml0eS50eXBlID0gJ3JhZGlvJztcbiAgaGlnaFByaW9yaXR5Lm5hbWUgPSAncHJpb3JpdHknO1xuICBoaWdoUHJpb3JpdHkudmFsdWUgPSAnaGlnaCc7XG4gIGlmIChvYmoucHJpb3JpdHkgPT09IGhpZ2hQcmlvcml0eS52YWx1ZSkge1xuICAgIGhpZ2hQcmlvcml0eS5jaGVja2VkID0gdHJ1ZTtcbiAgfVxuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChoaWdoUHJpb3JpdHkpO1xuXG4gIGNvbnN0IGxhYmVsTWVkaXVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgbGFiZWxNZWRpdW0udGV4dENvbnRlbnQgPSAnaW1wb3J0YW50JztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQobGFiZWxNZWRpdW0pO1xuXG4gIGNvbnN0IG1lZGl1bVByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgbWVkaXVtUHJpb3JpdHkudHlwZSA9ICdyYWRpbyc7XG4gIG1lZGl1bVByaW9yaXR5Lm5hbWUgPSAncHJpb3JpdHknO1xuICBtZWRpdW1Qcmlvcml0eS52YWx1ZSA9ICdtZWRpdW0nO1xuICBpZiAob2JqLnByaW9yaXR5ID09PSBtZWRpdW1Qcmlvcml0eS52YWx1ZSkge1xuICAgIG1lZGl1bVByaW9yaXR5LmNoZWNrZWQgPSB0cnVlO1xuICB9XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKG1lZGl1bVByaW9yaXR5KTtcblxuICBjb25zdCBsYWJlbExvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGxhYmVsTG93LnRleHRDb250ZW50ID0gJ25vcm1hbCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKGxhYmVsTG93KTtcblxuICBjb25zdCBsb3dQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGxvd1ByaW9yaXR5LnR5cGUgPSAncmFkaW8nO1xuICBsb3dQcmlvcml0eS5uYW1lID0gJ3ByaW9yaXR5JztcbiAgbG93UHJpb3JpdHkudmFsdWUgPSAnbG93JztcbiAgaWYgKG9iai5wcmlvcml0eSA9PT0gbG93UHJpb3JpdHkudmFsdWUpIHtcbiAgICBsb3dQcmlvcml0eS5jaGVja2VkID0gdHJ1ZTtcbiAgfVxuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChsb3dQcmlvcml0eSk7XG5cbiAgY29uc3QgdG9kb05vdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICB0b2RvTm90ZS5wbGFjZWhvbGRlciA9ICdBZGQgTm90ZSc7XG4gIHRvZG9Ob3RlLnZhbHVlID0gb2JqLm5vdGVzO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvTm90ZSk7XG5cbiAgY29uc3QgY29tcGxldGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGNvbXBsZXRlTGFiZWwudGV4dENvbnRlbnQgPSAnQ29tcGxldGVkJztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQoY29tcGxldGVMYWJlbCk7XG5cbiAgY29uc3QgdG9kb0NoZWNrTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHRvZG9DaGVja0xpc3QudHlwZSA9ICdjaGVja2JveCc7XG4gIHRvZG9DaGVja0xpc3QuY2hlY2tlZCA9IChvYmouY2hlY2tsaXN0ID09PSAnY29tcGxldGVkJyk7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKHRvZG9DaGVja0xpc3QpO1xuXG4gIGNvbnN0IHRvZG9Qcmlvcml0eSA9ICgpID0+IHtcbiAgICBpZiAoaGlnaFByaW9yaXR5LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBoaWdoUHJpb3JpdHkudmFsdWU7XG4gICAgfSBpZiAobWVkaXVtUHJpb3JpdHkuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIG1lZGl1bVByaW9yaXR5LnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbG93UHJpb3JpdHkudmFsdWU7XG4gIH07XG5cbiAgY29uc3QgdG9kb0NvbXBsZXRlID0gKCkgPT4gKCh0b2RvQ2hlY2tMaXN0LmNoZWNrZWQgPT09IHRydWUpID8gJ2NvbXBsZXRlZCcgOiAncGVuZGluZycpO1xuXG4gIGNvbnN0IHNhdmVUb2RvQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIHNhdmVUb2RvQnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgc2F2ZVRvZG9CdG4udGV4dENvbnRlbnQgPSAnU2F2ZSc7XG5cbiAgc2F2ZVRvZG9CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgb2JqLmVkaXQoXG4gICAgICB0b2RvVGl0bGUudmFsdWUsXG4gICAgICB0b2RvRGVzY3JpcHRpb24udmFsdWUsXG4gICAgICB0b2RvRHVlRGF0ZS52YWx1ZSxcbiAgICAgIHRvZG9Qcmlvcml0eSgpLFxuICAgICAgdG9kb05vdGUudmFsdWUsXG4gICAgICB0b2RvQ29tcGxldGUoKSxcbiAgICApO1xuXG4gICAgdXBkYXRlVG9kb0l0ZW0oZG9tT2JqLCBvYmopO1xuICB9KTtcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQoc2F2ZVRvZG9CdG4pO1xufTtcblxuY29uc3QgZGlzcGxheVRvZG9JdGVtcyA9IChhcnIsIHByb2plY3QpID0+IHtcbiAgY29uc3Qgb2xkVG9kb3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kby13cmFwJyk7XG4gIGlmIChvbGRUb2RvcyAhPSBudWxsKSB7XG4gICAgb2xkVG9kb3MucmVtb3ZlKCk7XG4gIH1cbiAgY29uc3QgdG9kb1dyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdG9kb1dyYXAuY2xhc3NMaXN0LmFkZCgndG9kby13cmFwJyk7XG4gIHRvZG9XcmFwLmlkID0gJ3RvZG8td3JhcCc7XG5cbiAgY29uc3QgdG9kb0l0ZW1NYWtlciA9IChwYXJlbnQsIG9iaiwgaW5kZXgsIHByb2plY3QpID0+IHtcbiAgICBjb25zdCB0b2RvSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRvZG9JdGVtLmNsYXNzTGlzdC5hZGQoJ3RvZG8taXRlbXMnKTtcblxuICAgIGNvbnN0IHRvZG9UaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgdG9kb1RpdGxlLmNsYXNzTGlzdC5hZGQoJ3RvZG8tdGl0bGUnKTtcbiAgICB0b2RvVGl0bGUudGV4dENvbnRlbnQgPSBvYmoudGl0bGU7XG5cbiAgICBjb25zdCB0b2RvRGVzYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICB0b2RvRGVzYy5jbGFzc0xpc3QuYWRkKCd0b2RvLWRlc2MnKTtcbiAgICB0b2RvRGVzYy50ZXh0Q29udGVudCA9IG9iai5kZXNjcmlwdGlvbjtcblxuICAgIGNvbnN0IHRvZG9EdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIHRvZG9EdWVEYXRlLmNsYXNzTGlzdC5hZGQoJ3RvZG8tZGF0ZScpO1xuICAgIHRvZG9EdWVEYXRlLnRleHRDb250ZW50ID0gb2JqLmR1ZURhdGU7XG5cbiAgICBjb25zdCB0b2RvTm90ZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgdG9kb05vdGVzLmNsYXNzTGlzdC5hZGQoJ3RvZG8tbm90ZXMnKTtcbiAgICB0b2RvTm90ZXMudGV4dENvbnRlbnQgPSBvYmoubm90ZXM7XG5cbiAgICBjb25zdCB0b2RvUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0b2RvUHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgndG9kby1wcmlvcml0eScpO1xuICAgIHRvZG9Qcmlvcml0eS50ZXh0Q29udGVudCA9IG9iai5wcmlvcml0eTtcblxuICAgIGNvbnN0IHByaW9yaXR5Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJpb3JpdHlDb250YWluZXIuY2xhc3NMaXN0LmFkZCgncHJpb3JpdHktY29udGFpbmVyJyk7XG5cblxuICAgIGNvbnN0IGhpZ2hQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGhpZ2hQcmlvcml0eS5pbm5lckhUTUwgPSAnQ2hhbmdlIHRvIGhpZ2gnO1xuICAgIGhpZ2hQcmlvcml0eS5jbGFzc0xpc3QuYWRkKCdoaWdoLXByaW9yaXR5Jyk7XG4gICAgaGlnaFByaW9yaXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgb2JqLmNoYW5nZVByaW9yaXR5KHRvZG9Qcmlvcml0eSwgJ2hpZ2gnKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG1lZGl1bVByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgbWVkaXVtUHJpb3JpdHkuaW5uZXJIVE1MID0gJ0NoYW5nZSB0byBNZWRpdW0nO1xuICAgIG1lZGl1bVByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ21lZGl1bS1wcmlvcml0eScpO1xuICAgIG1lZGl1bVByaW9yaXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgb2JqLmNoYW5nZVByaW9yaXR5KHRvZG9Qcmlvcml0eSwgJ21lZGl1bScpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgbm9ybWFsUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBub3JtYWxQcmlvcml0eS5pbm5lckhUTUwgPSAnQ2hhbmdlIHRvIExvdyc7XG4gICAgbm9ybWFsUHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgnaGlnaC1wcmlvcml0eScpO1xuICAgIG5vcm1hbFByaW9yaXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgb2JqLmNoYW5nZVByaW9yaXR5KHRvZG9Qcmlvcml0eSwgJ2xvdycpO1xuICAgIH0pO1xuXG4gICAgcHJpb3JpdHlDb250YWluZXIuYXBwZW5kQ2hpbGQoaGlnaFByaW9yaXR5KTtcbiAgICBwcmlvcml0eUNvbnRhaW5lci5hcHBlbmRDaGlsZChtZWRpdW1Qcmlvcml0eSk7XG4gICAgcHJpb3JpdHlDb250YWluZXIuYXBwZW5kQ2hpbGQobm9ybWFsUHJpb3JpdHkpO1xuXG5cbiAgICBjb25zdCB0b2RvQ2hlY2tMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdG9kb0NoZWNrTGlzdC5jbGFzc0xpc3QuYWRkKCd0b2RvLWNoZWNrbGlzdCcpO1xuICAgIHRvZG9DaGVja0xpc3QudGV4dENvbnRlbnQgPSBvYmouY2hlY2tsaXN0O1xuXG4gICAgY29uc3QgY2hhbmdlY29tcGxldGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNoYW5nZWNvbXBsZXRpb24uaW5uZXJIVE1MID0gJ01hcmsgYXMgY29tcGxldGVkJztcbiAgICBjaGFuZ2Vjb21wbGV0aW9uLmNsYXNzTGlzdC5hZGQoJ2NoYW5nZS1jb21wbGV0aW9uJyk7XG4gICAgY2hhbmdlY29tcGxldGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG9iai5jaGFuZ2VDb21wbGV0aW9uQnRuKHRvZG9DaGVja0xpc3QpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGVkaXRCdG4uaW5uZXJIVE1MID0gJ2VkaXQnO1xuICAgIGVkaXRCdG4udHlwZSA9ICdidXR0b24nO1xuICAgIGVkaXRCdG4uY2xhc3NMaXN0LmFkZCgnZWRpdC10b2RvJyk7XG4gICAgZWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGRpc3BsYXlFZGl0Rm9ybSh7XG4gICAgICAgIHRpdGxlOiB0b2RvVGl0bGUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiB0b2RvRGVzYyxcbiAgICAgICAgZHVlRGF0ZTogdG9kb0R1ZURhdGUsXG4gICAgICAgIG5vdGVzOiB0b2RvTm90ZXMsXG4gICAgICAgIHByaW9yaXR5OiB0b2RvUHJpb3JpdHksXG4gICAgICAgIGNoZWNrbGlzdDogdG9kb0NoZWNrTGlzdCxcbiAgICAgIH0sIG9iaik7XG4gICAgfSk7XG5cbiAgICBjb25zdCBkZWxldGVUb2RvQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICBkZWxldGVUb2RvQnRuLmlubmVySFRNTCA9ICdEZWxldGUgVG9Ebyc7XG4gICAgZGVsZXRlVG9kb0J0bi5jbGFzc0xpc3QuYWRkKCdkZWxldGUtdG9kby1idG4nKTtcbiAgICBkZWxldGVUb2RvQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgcHJvamVjdC5kZWxldGVUb2RvKDApO1xuICAgIH0pO1xuXG4gICAgdG9kb0l0ZW0uYXBwZW5kQ2hpbGQodG9kb1RpdGxlKTtcbiAgICB0b2RvSXRlbS5hcHBlbmRDaGlsZCh0b2RvRGVzYyk7XG4gICAgdG9kb0l0ZW0uYXBwZW5kQ2hpbGQodG9kb0R1ZURhdGUpO1xuICAgIHRvZG9JdGVtLmFwcGVuZENoaWxkKHRvZG9Ob3Rlcyk7XG4gICAgdG9kb0l0ZW0uYXBwZW5kQ2hpbGQodG9kb1ByaW9yaXR5KTtcbiAgICB0b2RvSXRlbS5hcHBlbmRDaGlsZChwcmlvcml0eUNvbnRhaW5lcik7XG4gICAgdG9kb0l0ZW0uYXBwZW5kQ2hpbGQodG9kb0NoZWNrTGlzdCk7XG4gICAgdG9kb0l0ZW0uYXBwZW5kQ2hpbGQoY2hhbmdlY29tcGxldGlvbik7XG4gICAgdG9kb0l0ZW0uYXBwZW5kQ2hpbGQoZWRpdEJ0bik7XG4gICAgdG9kb0l0ZW0uYXBwZW5kQ2hpbGQoZGVsZXRlVG9kb0J0bik7XG5cbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQodG9kb0l0ZW0pO1xuICB9O1xuXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBvYmogPSBhcnJbaV07XG4gICAgY29uc3QgaW5kZXggPSBpO1xuICAgIHRvZG9JdGVtTWFrZXIodG9kb1dyYXAsIG9iaiwgaW5kZXgsIHByb2plY3QpO1xuICB9XG5cbiAgYm9keVJpZ2h0LmFwcGVuZENoaWxkKHRvZG9XcmFwKTtcbn07XG5cblxuY29uc3QgY2xlYXJFbGVtZW50ID0gKGlkKSA9PiB7XG4gIGNvbnN0IGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgZWxlLmlubmVySFRNTCA9ICcnO1xufTtcblxuY29uc3QgbmV3TGlzdCA9IChwcm9qZWN0KSA9PiB7XG4gIGNvbnN0IG9sZEZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybS1jb250YWluZXInKTtcbiAgaWYgKG9sZEZvcm0gIT0gbnVsbCkge1xuICAgIG9sZEZvcm0ucmVtb3ZlKCk7XG4gIH1cbiAgY29uc3QgZm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBib2R5UmlnaHQuYXBwZW5kQ2hpbGQoZm9ybUNvbnRhaW5lcik7XG4gIGZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnZm9ybS1jb250YWluZXInKTtcbiAgZm9ybUNvbnRhaW5lci5pZCA9ICgnZm9ybS1jb250YWluZXInKTtcblxuICBjb25zdCBsaXN0Rm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgbGlzdEZvcm0uY2xhc3NMaXN0LmFkZCgnbGlzdC1mb3JtJyk7XG4gIGZvcm1Db250YWluZXIuYXBwZW5kQ2hpbGQobGlzdEZvcm0pO1xuXG4gIGNvbnN0IHRvZG9UaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHRvZG9UaXRsZS5wbGFjZWhvbGRlciA9ICdFbnRlciBUaXRsZSc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKHRvZG9UaXRsZSk7XG5cbiAgY29uc3QgdG9kb0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb0Rlc2NyaXB0aW9uLnBsYWNlaG9sZGVyID0gJ0VudGVyIERlc2NyaXB0aW9uJztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQodG9kb0Rlc2NyaXB0aW9uKTtcblxuICBjb25zdCB0b2RvRHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHRvZG9EdWVEYXRlLnR5cGUgPSAnZGF0ZSc7XG4gIHRvZG9EdWVEYXRlLnBsYWNlaG9sZGVyID0gJ0VudGVyIERlc2NyaXB0aW9uJztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQodG9kb0R1ZURhdGUpO1xuXG4gIGNvbnN0IGxhYmVsSGlnaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGxhYmVsSGlnaC50ZXh0Q29udGVudCA9ICdVcmdlbnQnO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChsYWJlbEhpZ2gpO1xuXG4gIGNvbnN0IGhpZ2hQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGhpZ2hQcmlvcml0eS50eXBlID0gJ3JhZGlvJztcbiAgaGlnaFByaW9yaXR5Lm5hbWUgPSAncHJpb3JpdHknO1xuICBoaWdoUHJpb3JpdHkudmFsdWUgPSAnaGlnaCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKGhpZ2hQcmlvcml0eSk7XG5cbiAgY29uc3QgbGFiZWxNZWRpdW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBsYWJlbE1lZGl1bS50ZXh0Q29udGVudCA9ICdpbXBvcnRhbnQnO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChsYWJlbE1lZGl1bSk7XG5cbiAgY29uc3QgbWVkaXVtUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBtZWRpdW1Qcmlvcml0eS50eXBlID0gJ3JhZGlvJztcbiAgbWVkaXVtUHJpb3JpdHkubmFtZSA9ICdwcmlvcml0eSc7XG4gIG1lZGl1bVByaW9yaXR5LnZhbHVlID0gJ21lZGl1bSc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKG1lZGl1bVByaW9yaXR5KTtcblxuICBjb25zdCBsYWJlbExvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGxhYmVsTG93LnRleHRDb250ZW50ID0gJ25vcm1hbCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKGxhYmVsTG93KTtcblxuICBjb25zdCBsb3dQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGxvd1ByaW9yaXR5LnR5cGUgPSAncmFkaW8nO1xuICBsb3dQcmlvcml0eS5uYW1lID0gJ3ByaW9yaXR5JztcbiAgbG93UHJpb3JpdHkudmFsdWUgPSAnbG93JztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQobG93UHJpb3JpdHkpO1xuXG4gIGNvbnN0IHRvZG9Ob3RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb05vdGUucGxhY2Vob2xkZXIgPSAnQWRkIE5vdGUnO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvTm90ZSk7XG5cbiAgY29uc3QgY29tcGxldGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGNvbXBsZXRlTGFiZWwudGV4dENvbnRlbnQgPSAnQ29tcGxldGVkJztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQoY29tcGxldGVMYWJlbCk7XG5cbiAgY29uc3QgdG9kb0NoZWNrTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHRvZG9DaGVja0xpc3QudHlwZSA9ICdjaGVja2JveCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKHRvZG9DaGVja0xpc3QpO1xuXG4gIGNvbnN0IHRvZG9Qcmlvcml0eSA9ICgpID0+IHtcbiAgICBpZiAoaGlnaFByaW9yaXR5LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBoaWdoUHJpb3JpdHkudmFsdWU7XG4gICAgfSBpZiAobWVkaXVtUHJpb3JpdHkuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIG1lZGl1bVByaW9yaXR5LnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbG93UHJpb3JpdHkudmFsdWU7XG4gIH07XG5cbiAgY29uc3QgdG9kb0NvbXBsZXRlID0gKCkgPT4gKCh0b2RvQ2hlY2tMaXN0LmNoZWNrZWQgPT09IHRydWUpID8gJ2NvbXBsZXRlZCcgOiAncGVuZGluZycpO1xuXG4gIGNvbnN0IHRvZG9CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgdG9kb0J0bi50eXBlID0gJ2J1dHRvbic7XG4gIHRvZG9CdG4udGV4dENvbnRlbnQgPSAnYWRkJztcbiAgdG9kb0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBwcm9qZWN0LmFkZFRvZG8obmV3IFRvZG8oXG4gICAgICB0b2RvVGl0bGUudmFsdWUsXG4gICAgICB0b2RvRGVzY3JpcHRpb24udmFsdWUsXG4gICAgICB0b2RvRHVlRGF0ZS52YWx1ZSxcbiAgICAgIHRvZG9Qcmlvcml0eSgpLFxuICAgICAgdG9kb05vdGUudmFsdWUsXG4gICAgICB0b2RvQ29tcGxldGUoKSxcbiAgICApKTtcbiAgICBjbGVhckVsZW1lbnQoJ3RvZG8td3JhcCcpO1xuICAgIGRpc3BsYXlUb2RvSXRlbXMocHJvamVjdC50b2Rvcyk7XG4gIH0pO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvQnRuKTtcbn07XG5cbmNvbnN0IGRpc3BsYXlQcm9qZWN0cyA9IChhcnIpID0+IHtcbiAgY29uc3Qgb2xkRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0LWZvcm0tY29udGFpbmVyJyk7XG4gIGlmIChvbGRGb3JtICE9IG51bGwpIHtcbiAgICBvbGRGb3JtLnJlbW92ZSgpO1xuICB9XG4gIGNvbnN0IG9sZFByb2plY3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3Qtd3JhcCcpO1xuICBpZiAob2xkUHJvamVjdHMgIT0gbnVsbCkge1xuICAgIG9sZFByb2plY3RzLnJlbW92ZSgpO1xuICB9XG5cbiAgY29uc3QgcHJvamVjdFdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJvamVjdFdyYXAuY2xhc3NMaXN0LmFkZCgncHJvamVjdC13cmFwJyk7XG4gIHByb2plY3RXcmFwLmlkID0gJ3Byb2plY3Qtd3JhcCc7XG5cbiAgY29uc3QgcHJvamVjdEl0ZW1NYWtlciA9IChwYXJlbnQsIHByb2plY3QpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb2plY3RJdGVtLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtaXRlbXMnKTtcbiAgICBwcm9qZWN0SXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG5ld0xpc3QocHJvamVjdCk7XG4gICAgICBkaXNwbGF5VG9kb0l0ZW1zKHByb2plY3QudG9kb3MsIHByb2plY3QpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBwcm9qZWN0VGl0bGUuY2xhc3NMaXN0LmFkZCgndG9kby10aXRsZScpO1xuICAgIHByb2plY3RUaXRsZS50ZXh0Q29udGVudCA9IHByb2plY3QudGl0bGU7XG5cbiAgICBwcm9qZWN0SXRlbS5hcHBlbmRDaGlsZChwcm9qZWN0VGl0bGUpO1xuXG4gICAgcGFyZW50LmFwcGVuZENoaWxkKHByb2plY3RJdGVtKTtcbiAgfTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IHByb2plY3QgPSBhcnJbaV07XG4gICAgcHJvamVjdEl0ZW1NYWtlcihwcm9qZWN0V3JhcCwgcHJvamVjdCk7XG4gIH1cblxuICBib2R5TGVmdC5hcHBlbmRDaGlsZChwcm9qZWN0V3JhcCk7XG59O1xuXG5jb25zdCBuZXdQcm9qZWN0ID0gKCkgPT4ge1xuICBjb25zdCBwcm9qZWN0Rm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LWZvcm0tY29udGFpbmVyJyk7XG4gIHByb2plY3RGb3JtQ29udGFpbmVyLmlkID0gJ3Byb2plY3QtZm9ybS1jb250YWluZXInO1xuICBib2R5TGVmdC5hcHBlbmRDaGlsZChwcm9qZWN0Rm9ybUNvbnRhaW5lcik7XG5cblxuICBjb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgcHJvamVjdEZvcm0uY2xhc3NMaXN0LmFkZCgncHJvamVjdC1mb3JtJyk7XG4gIHByb2plY3RGb3JtQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RGb3JtKTtcblxuICBjb25zdCBwcm9qZWN0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBwcm9qZWN0VGl0bGUucGxhY2Vob2xkZXIgPSAnUHJvamVjdCBUaXRsZSc7XG4gIHByb2plY3RGb3JtLmFwcGVuZENoaWxkKHByb2plY3RUaXRsZSk7XG5cbiAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBhZGRQcm9qZWN0QnRuLmlubmVySFRNTCA9ICdDcmVhdGUgUHJvamVjdCc7XG4gIGFkZFByb2plY3RCdG4udHlwZSA9ICdidXR0b24nO1xuICBwcm9qZWN0Rm9ybS5hcHBlbmRDaGlsZChhZGRQcm9qZWN0QnRuKTtcblxuICBhZGRQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGFkZEl0ZW0oJ3Byb2plY3RzJywgbmV3IFByb2plY3QocHJvamVjdFRpdGxlLnZhbHVlKSk7XG4gICAgZGlzcGxheVByb2plY3RzKGZldGNoSXRlbSgncHJvamVjdHMnKSk7XG4gIH0pO1xufTtcblxuY29uc3QgbmV3UHJvamVjdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xubmV3UHJvamVjdEJ0bi5jbGFzc0xpc3QuYWRkKCduZXctcHJvamVjdC1idXR0b24nKTtcbm5ld1Byb2plY3RCdG4uaW5uZXJIVE1MID0gJ05ldyBQcm9qZWN0JztcbmJvZHlMZWZ0LmFwcGVuZENoaWxkKG5ld1Byb2plY3RCdG4pO1xubmV3UHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgbmV3UHJvamVjdCgpO1xufSk7XG5cbmV4cG9ydCB7IG5ld0xpc3QsIGRpc3BsYXlUb2RvSXRlbXMsIGRpc3BsYXlQcm9qZWN0cyB9O1xuIiwiaW1wb3J0IHsgZGlzcGxheVByb2plY3RzIH0gZnJvbSAnLi9kb20nO1xuaW1wb3J0IHsgZmV0Y2hJdGVtIH0gZnJvbSAnLi9sb2NhbFN0b3JhZ2UnO1xuXG5cbmRpc3BsYXlQcm9qZWN0cyhmZXRjaEl0ZW0oJ3Byb2plY3RzJykpO1xuLy8gbmV3TGlzdCh0b2Rvcyk7XG4iXSwic291cmNlUm9vdCI6IiJ9