(()=>{"use strict";const e=function(e,t,n,d,o,c){this.title=e,this.description=t,this.dueDate=n,this.priority=d,this.notes=o,this.checklist=c,this.edit=(e,t,n,d,o,c)=>{this.title=e,this.description=t,this.dueDate=n,this.priority=d,this.notes=o,this.checklist=c},this.changePriority=(e,t)=>{e.innerHTML=t,this.priority=t},this.changeCompletion=e=>{e.innerHTML='<span class="iconify" data-icon="si-glyph:square-checked" data-inline="false"></span>',this.checklist="completed"}};function t(e){this.title=e,this.todos=[],this.addTodo=e=>{this.todos.push(e)},this.deleteTodo=e=>{this.todos.splice(e,1)}}const n=new t("Default");n.addTodo(new e("Visit Dentist","See the dentist for molar evaluation","23/03/2010","high","Leave immediately after school","pending")),n.addTodo(new e("Write Article","Write an article on the difference between pass by value and pass by reference","23/03/2010","medium","Set the target audience to begginers","pending"));const d=n=>{const d=new t(n.title);for(let t=0;t<n.todos.length;t+=1)d.addTodo(new e(n.todos[t].title,n.todos[t].description,n.todos[t].dueDate,n.todos[t].priority,n.todos[t].notes,n.todos[t].checklist));return d},o=(e,t)=>window.localStorage.setItem(e,JSON.stringify(t)),c=[n],i=e=>{const t=JSON.parse(window.localStorage.getItem(e));return null==t&&o("projects",c),(e=>{const t=[];for(let n=0;n<e.length;n+=1)t.push(d(e[n]));return t})(t)},a=document.getElementById("content"),s=document.createElement("div");s.classList.add("heading-container");const l=document.createElement("h3");l.textContent="ToDo List",s.appendChild(l),a.appendChild(s);const r=document.createElement("div");r.classList.add("body-container"),a.appendChild(r);const p=document.createElement("div");p.classList.add("body-left");const m=document.createElement("div");m.classList.add("body-right"),r.appendChild(p),r.appendChild(m);const u=(e,t,n,d)=>{const c=document.getElementById("todo-wrap");null!=c&&c.remove();const i=document.createElement("div");i.classList.add("todo-wrap"),i.id="todo-wrap";const a=(e,t,c,i)=>{const a=document.createElement("div");a.classList.add("todo-items");const s=document.createElement("h3");s.classList.add("todo-title"),s.textContent=t.title;const l=document.createElement("p");l.classList.add("todo-desc"),l.textContent=t.description;const r=document.createElement("p");r.classList.add("todo-date"),r.textContent=t.dueDate;const p=document.createElement("p");p.classList.add("todo-notes"),p.textContent=t.notes;const u=document.createElement("div");u.classList.add("state-controls");const h=document.createElement("div");h.classList.add("priority-wrap");const E=document.createElement("div");E.classList.add("todo-priority"),E.textContent=t.priority;const C=document.createElement("div");C.classList.add("priority-container");const L=document.createElement("button");L.classList.add("high-priority"),L.addEventListener("click",(()=>{t.changePriority(E,"high")}));const v=document.createElement("button");v.classList.add("medium-priority"),v.addEventListener("click",(()=>{t.changePriority(E,"medium")}));const y=document.createElement("button");y.classList.add("low-priority"),y.addEventListener("click",(()=>{t.changePriority(E,"low"),n[d]=i,o("projects",n)})),C.appendChild(L),C.appendChild(v),C.appendChild(y),h.appendChild(E),h.appendChild(C);const f=document.createElement("div");f.classList.add("completed-wrap");const g=document.createElement("div");g.classList.add("todo-checklist");const k='<span class="iconify" data-icon="si-glyph:square-checked" data-inline="false"></span>',b='<span class="iconify completed" data-icon="si-glyph:square-checked" data-inline="false"></span>';g.innerHTML="completed"===t.checklist?k:t.checklist;const T=document.createElement("button");var w;T.classList.add("todo-checklist"),T.innerHTML=k,T.classList.add("change-completion"),T.addEventListener("click",(()=>{t.changeCompletion(g),n[d]=i,o("projects",n),T.innerHTML=b})),w=T,"completed"===t.checklist&&(w.innerHTML=b),f.appendChild(T),u.appendChild(h),u.appendChild(f);const j=document.createElement("button");j.innerHTML='<span class="iconify" data-icon="akar-icons:edit" data-inline="false"></span>',j.type="button",j.classList.add("edit-todo"),j.addEventListener("click",(()=>{((e,t)=>{const n=document.createElement("div");n.classList.add("edit-form-container"),n.classList.add("modal"),n.id="edit-todo-form",m.appendChild(n);const d=document.createElement("form");d.classList.add("edit-form"),n.appendChild(d);const o=document.createElement("div");o.innerHTML='<span class="iconify" data-icon="ion:close" data-inline="false"></span>',o.classList.add("close-form"),d.prepend(o),o.addEventListener("click",(()=>{n.remove()}));const c=document.createElement("input");c.placeholder="Enter Title",c.value=t.title,d.appendChild(c);const i=document.createElement("input");i.placeholder="Enter Description",i.value=t.description,d.appendChild(i);const a=document.createElement("input");a.type="date",a.value=t.dueDate,d.appendChild(a);const s=document.createElement("label");s.textContent="Urgent",d.appendChild(s);const l=document.createElement("input");l.type="radio",l.name="priority",l.value="high",t.priority===l.value&&(l.checked=!0),d.appendChild(l);const r=document.createElement("label");r.textContent="important",d.appendChild(r);const p=document.createElement("input");p.type="radio",p.name="priority",p.value="medium",t.priority===p.value&&(p.checked=!0),d.appendChild(p);const u=document.createElement("label");u.textContent="normal",d.appendChild(u);const h=document.createElement("input");h.type="radio",h.name="priority",h.value="low",t.priority===h.value&&(h.checked=!0),d.appendChild(h);const E=document.createElement("input");E.placeholder="Add Note",E.value=t.notes,d.appendChild(E);const C=document.createElement("label");C.textContent="Completed",d.appendChild(C);const L=document.createElement("input");L.type="checkbox",L.checked="completed"===t.checklist,d.appendChild(L);const v=document.createElement("button");v.type="button",v.textContent="Save",v.addEventListener("click",(()=>{t.edit(c.value,i.value,a.value,!0===l.checked?l.value:!0===p.checked?p.value:h.value,E.value,"pending"),((e,t)=>{const n=document.getElementById("edit-todo-form");null!=n&&n.remove(),e.title.innerHTML=t.title,e.description.innerHTML=t.description,e.dueDate.innerHTML=t.dueDate,e.notes.innerHTML=t.notes,e.priority.innerHTML=t.priority,e.checklist.innerHTML=t.checklist})(e,t)})),d.appendChild(v)})({title:s,description:l,dueDate:r,notes:p,priority:E,checklist:g},t)}));const H=document.createElement("button");H.innerHTML='<span class="iconify" data-icon="ic:baseline-delete-outline" data-inline="false"></span>',H.classList.add("delete-todo"),H.addEventListener("click",(()=>{i.deleteTodo(c),n[d]=i,o("projects",n),a.remove()})),a.appendChild(s),a.appendChild(l),a.appendChild(r),a.appendChild(p),a.appendChild(u),a.appendChild(j),a.appendChild(H),e.appendChild(a)};for(let n=0;n<e.length;n+=1)a(i,e[n],n,t);m.appendChild(i)},h=t=>{const n=document.getElementById("project-form-container");null!=n&&n.remove();const d=document.getElementById("project-wrap");null!=d&&d.remove();const c=document.createElement("div");c.classList.add("project-wrap"),c.id="project-wrap";const a=(n,d,c)=>{const a=document.createElement("div");a.classList.add("project-items");const s=document.createElement("h3");s.classList.add("project-title"),s.textContent=`${d.title} (${d.todos.length})`,s.addEventListener("click",(()=>{((t,n,d)=>{const c=document.getElementById("show-project-form-btn");null!=c&&c.remove();const i=document.createElement("button");i.id="show-project-form-btn",i.type="button",i.textContent="Create New ToDo",i.addEventListener("click",(()=>{((t,n,d)=>{const c=document.getElementById("form-container");null!=c&&c.remove();const i=document.createElement("div");m.prepend(i),i.classList.add("form-container"),i.id="form-container";const a=document.createElement("form");a.classList.add("list-form"),i.appendChild(a);const s=document.createElement("input");s.placeholder="Enter Title",a.appendChild(s);const l=document.createElement("div");l.innerHTML='<span class="iconify" data-icon="ion:close" data-inline="false"></span>',l.classList.add("close-form"),a.prepend(l),l.addEventListener("click",(()=>{i.remove()}));const r=document.createElement("input");r.placeholder="Enter Description",a.appendChild(r);const p=document.createElement("input");p.type="date",p.placeholder="Enter Description",a.appendChild(p);const h=document.createElement("label");h.textContent="Urgent",a.appendChild(h);const E=document.createElement("input");E.type="radio",E.name="priority",E.value="high",a.appendChild(E);const C=document.createElement("label");C.textContent="important",a.appendChild(C);const L=document.createElement("input");L.type="radio",L.name="priority",L.value="medium",a.appendChild(L);const v=document.createElement("label");v.textContent="normal",a.appendChild(v);const y=document.createElement("input");y.type="radio",y.name="priority",y.value="low",a.appendChild(y);const f=document.createElement("input");f.placeholder="Add Note",a.appendChild(f);const g=document.createElement("button");g.classList.add("todo-btn"),g.type="button",g.textContent="+",g.addEventListener("click",(()=>{t.addTodo(new e(s.value,r.value,p.value,!0===E.checked?E.value:!0===L.checked?L.value:y.value,f.value,"pending")),n[d]=t,o("projects",n),document.getElementById("todo-wrap").innerHTML="",u(t.todos,t,n,d),i.innerHTML=""})),a.appendChild(g)})(t,n,d)})),m.appendChild(i)})(d,t,c),u(d.todos,d,t,c)})),a.appendChild(s);const l=document.createElement("button");l.classList.add("delete-project"),l.innerHTML='<span class="iconify" data-icon="ic:baseline-delete-outline" data-inline="false"></span>',l.addEventListener("click",(()=>{t.splice(c,1),o("projects",t),h(i("projects"))})),0!==c&&a.appendChild(l),n.appendChild(a)};for(let e=0;e<t.length;e+=1)a(c,t[e],e);p.appendChild(c)},E=document.createElement("button");E.classList.add("new-project-button"),E.innerHTML="New Project",p.appendChild(E),E.addEventListener("click",(()=>{(()=>{const e=document.createElement("div");e.classList.add("project-form-container"),e.id="project-form-container",p.appendChild(e);const n=document.createElement("form");n.classList.add("project-form"),e.appendChild(n);const d=document.createElement("input");d.placeholder="Project Title",n.appendChild(d);const c=document.createElement("button");c.innerHTML="Create",c.classList.add("add-project-btn"),c.type="button",n.appendChild(c),c.addEventListener("click",(()=>{((e,t)=>{const n=i(e);n.push(t),o(e,n)})("projects",new t(d.value)),h(i("projects"))}))})()})),h(i("projects"))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ub2RvTGlzdC8uL3NyYy9uZXdUb2RvLmpzIiwid2VicGFjazovL1RvZG9MaXN0Ly4vc3JjL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vVG9kb0xpc3QvLi9zcmMvbG9jYWxTdG9yYWdlLmpzIiwid2VicGFjazovL1RvZG9MaXN0Ly4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly9Ub2RvTGlzdC8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5Iiwibm90ZXMiLCJjaGVja2xpc3QiLCJ0aGlzIiwiZWRpdCIsIm5ld1RpdGxlIiwibmV3ZGVzY3JpcHRpb24iLCJuZXdEdWVEYXRlIiwibmV3UHJpb3JpdHkiLCJuZXdOb3RlcyIsIm5ld0NoZWNrbGlzdCIsImNoYW5nZVByaW9yaXR5IiwidGFyZ2V0IiwidGV4dCIsImlubmVySFRNTCIsImNoYW5nZUNvbXBsZXRpb24iLCJQcm9qZWN0IiwidG9kb3MiLCJhZGRUb2RvIiwib2JqIiwicHVzaCIsImRlbGV0ZVRvZG8iLCJpbmRleCIsInNwbGljZSIsInByb2plY3RPbmUiLCJjb252ZXJ0SnNvblRvVG9kbyIsImpzb25BcnIiLCJob2xkZXIiLCJqIiwibGVuZ3RoIiwic3RvcmVJdGVtIiwibmFtZSIsImRhdGEiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImRlZmF1bHRQcm9qZWN0cyIsImZldGNoSXRlbSIsImpzb24iLCJwYXJzZSIsImdldEl0ZW0iLCJwcm9qZWN0cyIsImkiLCJjb252ZXJ0SnNvblRvUHJvamVjdCIsImJvZHkiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaGVhZGluZ0NvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJoZWFkaW5nIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsImJvZHlDb250YWluZXIiLCJib2R5TGVmdCIsImJvZHlSaWdodCIsImRpc3BsYXlUb2RvSXRlbXMiLCJhcnIiLCJwcm9qZWN0IiwicHJvamVjdEFyciIsInByb2plY3RJbmRleCIsIm9sZFRvZG9zIiwicmVtb3ZlIiwidG9kb1dyYXAiLCJpZCIsInRvZG9JdGVtTWFrZXIiLCJwYXJlbnQiLCJ0b2RvSXRlbSIsInRvZG9UaXRsZSIsInRvZG9EZXNjIiwidG9kb0R1ZURhdGUiLCJ0b2RvTm90ZXMiLCJzdGF0ZUNvbnRyb2xzIiwicHJpb3JpdHlXcmFwIiwidG9kb1ByaW9yaXR5IiwicHJpb3JpdHlDb250YWluZXIiLCJoaWdoUHJpb3JpdHkiLCJhZGRFdmVudExpc3RlbmVyIiwibWVkaXVtUHJpb3JpdHkiLCJub3JtYWxQcmlvcml0eSIsImNvbXBsZXRlZFdyYXAiLCJ0b2RvQ2hlY2tMaXN0IiwidGlja0ljb24iLCJ0aWNrSWNvbkdyZWVuIiwiY2hhbmdlQ29tcGxldGlvbkJ0biIsImJ0biIsImVkaXRCdG4iLCJ0eXBlIiwiZG9tT2JqIiwiZm9ybUNvbnRhaW5lciIsImxpc3RGb3JtIiwiY2xvc2VGb3JtIiwicHJlcGVuZCIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJ0b2RvRGVzY3JpcHRpb24iLCJsYWJlbEhpZ2giLCJjaGVja2VkIiwibGFiZWxNZWRpdW0iLCJsYWJlbExvdyIsImxvd1ByaW9yaXR5IiwidG9kb05vdGUiLCJjb21wbGV0ZUxhYmVsIiwic2F2ZVRvZG9CdG4iLCJ0b2RvT2JqIiwib2xkRm9ybSIsInVwZGF0ZVRvZG9JdGVtIiwiZGlzcGxheUVkaXRGb3JtIiwiZGVsZXRlVG9kb0J0biIsImRpc3BsYXlQcm9qZWN0cyIsIm9sZFByb2plY3RzIiwicHJvamVjdFdyYXAiLCJwcm9qZWN0SXRlbU1ha2VyIiwicHJvamVjdEl0ZW0iLCJwcm9qZWN0VGl0bGUiLCJvbGRCdG4iLCJzaG93QnRuIiwidG9kb0J0biIsIm5ld0xpc3QiLCJzaG93Rm9ybUJ0biIsImRlbGV0ZVByb2plY3QiLCJuZXdQcm9qZWN0QnRuIiwicHJvamVjdEZvcm1Db250YWluZXIiLCJwcm9qZWN0Rm9ybSIsImFkZFByb2plY3RCdG4iLCJwcm9qZWN0T2JqIiwiYWRkSXRlbSIsIm5ld1Byb2plY3QiXSwibWFwcGluZ3MiOiJtQkFnQ0EsUUFoQ0EsU0FBY0EsRUFBT0MsRUFBYUMsRUFBU0MsRUFBVUMsRUFBT0MsR0FDMURDLEtBQUtOLE1BQVFBLEVBQ2JNLEtBQUtMLFlBQWNBLEVBQ25CSyxLQUFLSixRQUFVQSxFQUNmSSxLQUFLSCxTQUFXQSxFQUNoQkcsS0FBS0YsTUFBUUEsRUFDYkUsS0FBS0QsVUFBWUEsRUFFakJDLEtBQUtDLEtBQU8sQ0FBQ0MsRUFBVUMsRUFBZ0JDLEVBQVlDLEVBQWFDLEVBQVVDLEtBQ3hFUCxLQUFLTixNQUFRUSxFQUNiRixLQUFLTCxZQUFjUSxFQUNuQkgsS0FBS0osUUFBVVEsRUFDZkosS0FBS0gsU0FBV1EsRUFDaEJMLEtBQUtGLE1BQVFRLEVBQ2JOLEtBQUtELFVBQVlRLEdBR25CUCxLQUFLUSxlQUFpQixDQUFDQyxFQUFRQyxLQUM3QkQsRUFBT0UsVUFBWUQsRUFDbkJWLEtBQUtILFNBQVdhLEdBR2xCVixLQUFLWSxpQkFBb0JILElBQ3ZCQSxFQUFPRSxVQUFZLHdGQUNuQlgsS0FBS0QsVUFBWSxjQ3hCckIsU0FBU2MsRUFBUW5CLEdBQ2ZNLEtBQUtOLE1BQVFBLEVBRWJNLEtBQUtjLE1BQVEsR0FFYmQsS0FBS2UsUUFBV0MsSUFDZGhCLEtBQUtjLE1BQU1HLEtBQUtELElBR2xCaEIsS0FBS2tCLFdBQWNDLElBQ2pCbkIsS0FBS2MsTUFBTU0sT0FBT0QsRUFBTyxJQ1A3QixNQUFNRSxFQUFhLElBQUlSLEVBQVEsV0FDL0JRLEVBQVdOLFFBQVEsSUFBSSxFQUNyQixnQkFDQSx1Q0FDQSxhQUNBLE9BQ0EsaUNBQ0EsWUFHRk0sRUFBV04sUUFBUSxJQUFJLEVBQ3JCLGdCQUNBLGlGQUNBLGFBQ0EsU0FDQSx1Q0FDQSxZQUdGLE1BQU1PLEVBQXFCQyxJQUN6QixNQUFNQyxFQUFTLElBQUlYLEVBQVFVLEVBQVE3QixPQUNuQyxJQUFL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QUM3QzZFLEVBQWNqSCxVQUFZLFNBQzFCaUgsRUFBYzVFLFVBQVVDLElBQUksbUJBQzVCMkUsRUFBY3JDLEtBQU8sU0FDckJvQyxFQUFZdkUsWUFBWXdFLEdBRXhCQSxFQUFjL0MsaUJBQWlCLFNBQVMsS0QvYjFCLEVBQUNqRCxFQUFNaUcsS0FDckIsTUFBTWxFLEVBQWF2QixFQUFVUixHQUM3QitCLEVBQVcxQyxLQUFLNEcsR0FDaEJsRyxFQUFVQyxFQUFNK0IsSUM2YmRtRSxDQUFRLFdBQVksSUFBSWpILEVBQVFxRyxFQUFhcEIsUUFDN0NlLEVBQWdCekUsRUFBVSxpQkFTNUIyRixNQ2hnQkZsQixFQUFnQnpFLEVBQVUsYyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gVG9kbyh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBub3RlcywgY2hlY2tsaXN0KSB7XG4gIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gIHRoaXMubm90ZXMgPSBub3RlcztcbiAgdGhpcy5jaGVja2xpc3QgPSBjaGVja2xpc3Q7XG5cbiAgdGhpcy5lZGl0ID0gKG5ld1RpdGxlLCBuZXdkZXNjcmlwdGlvbiwgbmV3RHVlRGF0ZSwgbmV3UHJpb3JpdHksIG5ld05vdGVzLCBuZXdDaGVja2xpc3QpID0+IHtcbiAgICB0aGlzLnRpdGxlID0gbmV3VGl0bGU7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IG5ld2Rlc2NyaXB0aW9uO1xuICAgIHRoaXMuZHVlRGF0ZSA9IG5ld0R1ZURhdGU7XG4gICAgdGhpcy5wcmlvcml0eSA9IG5ld1ByaW9yaXR5O1xuICAgIHRoaXMubm90ZXMgPSBuZXdOb3RlcztcbiAgICB0aGlzLmNoZWNrbGlzdCA9IG5ld0NoZWNrbGlzdDtcbiAgfTtcblxuICB0aGlzLmNoYW5nZVByaW9yaXR5ID0gKHRhcmdldCwgdGV4dCkgPT4ge1xuICAgIHRhcmdldC5pbm5lckhUTUwgPSB0ZXh0O1xuICAgIHRoaXMucHJpb3JpdHkgPSB0ZXh0O1xuICB9O1xuXG4gIHRoaXMuY2hhbmdlQ29tcGxldGlvbiA9ICh0YXJnZXQpID0+IHtcbiAgICB0YXJnZXQuaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwiaWNvbmlmeVwiIGRhdGEtaWNvbj1cInNpLWdseXBoOnNxdWFyZS1jaGVja2VkXCIgZGF0YS1pbmxpbmU9XCJmYWxzZVwiPjwvc3Bhbj4nO1xuICAgIHRoaXMuY2hlY2tsaXN0ID0gJ2NvbXBsZXRlZCc7XG4gIH07XG5cbiAgLy8gdGhpcy5kZWxldGVUb2RvID0gKGluZGV4KSA9PiB7XG4gIC8vICAgdGhpcy50b2Rvcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAvLyB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBUb2RvO1xuIiwiZnVuY3Rpb24gUHJvamVjdCh0aXRsZSkge1xuICB0aGlzLnRpdGxlID0gdGl0bGU7XG5cbiAgdGhpcy50b2RvcyA9IFtdO1xuXG4gIHRoaXMuYWRkVG9kbyA9IChvYmopID0+IHtcbiAgICB0aGlzLnRvZG9zLnB1c2gob2JqKTtcbiAgfTtcblxuICB0aGlzLmRlbGV0ZVRvZG8gPSAoaW5kZXgpID0+IHtcbiAgICB0aGlzLnRvZG9zLnNwbGljZShpbmRleCwgMSk7XG4gIH07XG59XG5cbmV4cG9ydCB7IFByb2plY3QgYXMgZGVmYXVsdCB9OyIsImltcG9ydCBUb2RvIGZyb20gJy4vbmV3VG9kbyc7XG5pbXBvcnQgUHJvamVjdCBmcm9tICcuL3Byb2plY3QnO1xuXG5jb25zdCBwcm9qZWN0T25lID0gbmV3IFByb2plY3QoJ0RlZmF1bHQnKTtcbnByb2plY3RPbmUuYWRkVG9kbyhuZXcgVG9kbyhcbiAgJ1Zpc2l0IERlbnRpc3QnLFxuICAnU2VlIHRoZSBkZW50aXN0IGZvciBtb2xhciBldmFsdWF0aW9uJyxcbiAgJzIzLzAzLzIwMTAnLFxuICAnaGlnaCcsXG4gICdMZWF2ZSBpbW1lZGlhdGVseSBhZnRlciBzY2hvb2wnLFxuICAncGVuZGluZycsXG4pKTtcblxucHJvamVjdE9uZS5hZGRUb2RvKG5ldyBUb2RvKFxuICAnV3JpdGUgQXJ0aWNsZScsXG4gICdXcml0ZSBhbiBhcnRpY2xlIG9uIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gcGFzcyBieSB2YWx1ZSBhbmQgcGFzcyBieSByZWZlcmVuY2UnLFxuICAnMjMvMDMvMjAxMCcsXG4gICdtZWRpdW0nLFxuICAnU2V0IHRoZSB0YXJnZXQgYXVkaWVuY2UgdG8gYmVnZ2luZXJzJyxcbiAgJ3BlbmRpbmcnLFxuKSk7XG5cbmNvbnN0IGNvbnZlcnRKc29uVG9Ub2RvID0gKGpzb25BcnIpID0+IHtcbiAgY29uc3QgaG9sZGVyID0gbmV3IFByb2plY3QoanNvbkFyci50aXRsZSk7XG4gIGZvciAobGV0IGogPSAwOyBqIDwganNvbkFyci50b2Rvcy5sZW5ndGg7IGogKz0gMSkge1xuICAgIGhvbGRlci5hZGRUb2RvKG5ldyBUb2RvKFxuICAgICAganNvbkFyci50b2Rvc1tqXS50aXRsZSxcbiAgICAgIGpzb25BcnIudG9kb3Nbal0uZGVzY3JpcHRpb24sXG4gICAgICBqc29uQXJyLnRvZG9zW2pdLmR1ZURhdGUsXG4gICAgICBqc29uQXJyLnRvZG9zW2pdLnByaW9yaXR5LFxuICAgICAganNvbkFyci50b2Rvc1tqXS5ub3RlcyxcbiAgICAgIGpzb25BcnIudG9kb3Nbal0uY2hlY2tsaXN0LFxuICAgICkpO1xuICB9XG4gIHJldHVybiBob2xkZXI7XG59O1xuXG5jb25zdCBjb252ZXJ0SnNvblRvUHJvamVjdCA9IChqc29uQXJyKSA9PiB7XG4gIGNvbnN0IHByb2plY3RzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwganNvbkFyci5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHByb2plY3RzLnB1c2goY29udmVydEpzb25Ub1RvZG8oanNvbkFycltpXSkpO1xuICB9XG4gIHJldHVybiBwcm9qZWN0cztcbn07XG5cbmNvbnN0IHN0b3JlSXRlbSA9IChuYW1lLCBkYXRhKSA9PiB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0obmFtZSwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuXG5jb25zdCBkZWZhdWx0UHJvamVjdHMgPSBbcHJvamVjdE9uZV07XG5cbmNvbnN0IGZldGNoSXRlbSA9IG5hbWUgPT4ge1xuICBjb25zdCBqc29uID0gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0obmFtZSkpO1xuICBpZiAoanNvbiA9PSBudWxsKSB7XG4gICAgc3RvcmVJdGVtKCdwcm9qZWN0cycsIGRlZmF1bHRQcm9qZWN0cyk7XG4gIH1cbiAgcmV0dXJuIGNvbnZlcnRKc29uVG9Qcm9qZWN0KGpzb24pO1xufTtcblxuY29uc3QgYWRkSXRlbSA9IChuYW1lLCBwcm9qZWN0T2JqKSA9PiB7XG4gIGNvbnN0IHByb2plY3RBcnIgPSBmZXRjaEl0ZW0obmFtZSk7XG4gIHByb2plY3RBcnIucHVzaChwcm9qZWN0T2JqKTtcbiAgc3RvcmVJdGVtKG5hbWUsIHByb2plY3RBcnIpO1xufTtcblxuZXhwb3J0IHsgZmV0Y2hJdGVtLCBzdG9yZUl0ZW0sIGFkZEl0ZW0gfTtcbiIsImltcG9ydCBUb2RvIGZyb20gJy4vbmV3VG9kbyc7XG5pbXBvcnQgUHJvamVjdCBmcm9tICcuL3Byb2plY3QnO1xuaW1wb3J0IHsgZmV0Y2hJdGVtLCBhZGRJdGVtLCBzdG9yZUl0ZW0gfSBmcm9tICcuL2xvY2FsU3RvcmFnZSc7XG5cbmNvbnN0IGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpO1xuXG5jb25zdCBoZWFkaW5nQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5oZWFkaW5nQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hlYWRpbmctY29udGFpbmVyJyk7XG5jb25zdCBoZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbmhlYWRpbmcudGV4dENvbnRlbnQgPSAnVG9EbyBMaXN0JztcbmhlYWRpbmdDb250YWluZXIuYXBwZW5kQ2hpbGQoaGVhZGluZyk7XG5ib2R5LmFwcGVuZENoaWxkKGhlYWRpbmdDb250YWluZXIpO1xuXG5jb25zdCBib2R5Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5ib2R5Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2JvZHktY29udGFpbmVyJyk7XG5ib2R5LmFwcGVuZENoaWxkKGJvZHlDb250YWluZXIpO1xuXG5jb25zdCBib2R5TGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuYm9keUxlZnQuY2xhc3NMaXN0LmFkZCgnYm9keS1sZWZ0Jyk7XG5jb25zdCBib2R5UmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbmJvZHlSaWdodC5jbGFzc0xpc3QuYWRkKCdib2R5LXJpZ2h0Jyk7XG5cbmJvZHlDb250YWluZXIuYXBwZW5kQ2hpbGQoYm9keUxlZnQpO1xuYm9keUNvbnRhaW5lci5hcHBlbmRDaGlsZChib2R5UmlnaHQpO1xuXG5jb25zdCB1cGRhdGVUb2RvSXRlbSA9IChkb21PYmosIHRvZG9PYmopID0+IHtcbiAgY29uc3Qgb2xkRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LXRvZG8tZm9ybScpO1xuICBpZiAob2xkRm9ybSAhPSBudWxsKSB7XG4gICAgb2xkRm9ybS5yZW1vdmUoKTtcbiAgfVxuICBkb21PYmoudGl0bGUuaW5uZXJIVE1MID0gdG9kb09iai50aXRsZTtcbiAgZG9tT2JqLmRlc2NyaXB0aW9uLmlubmVySFRNTCA9IHRvZG9PYmouZGVzY3JpcHRpb247XG4gIGRvbU9iai5kdWVEYXRlLmlubmVySFRNTCA9IHRvZG9PYmouZHVlRGF0ZTtcbiAgZG9tT2JqLm5vdGVzLmlubmVySFRNTCA9IHRvZG9PYmoubm90ZXM7XG4gIGRvbU9iai5wcmlvcml0eS5pbm5lckhUTUwgPSB0b2RvT2JqLnByaW9yaXR5O1xuICBkb21PYmouY2hlY2tsaXN0LmlubmVySFRNTCA9IHRvZG9PYmouY2hlY2tsaXN0O1xufTtcblxuY29uc3QgZGlzcGxheUVkaXRGb3JtID0gKGRvbU9iaiwgb2JqKSA9PiB7XG4gIGNvbnN0IGZvcm1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdlZGl0LWZvcm0tY29udGFpbmVyJyk7XG4gIGZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnbW9kYWwnKTtcbiAgZm9ybUNvbnRhaW5lci5pZCA9ICdlZGl0LXRvZG8tZm9ybSc7XG4gIGJvZHlSaWdodC5hcHBlbmRDaGlsZChmb3JtQ29udGFpbmVyKTtcblxuICBjb25zdCBsaXN0Rm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgbGlzdEZvcm0uY2xhc3NMaXN0LmFkZCgnZWRpdC1mb3JtJyk7XG4gIGZvcm1Db250YWluZXIuYXBwZW5kQ2hpbGQobGlzdEZvcm0pO1xuXG4gIGNvbnN0IGNsb3NlRm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjbG9zZUZvcm0uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwiaWNvbmlmeVwiIGRhdGEtaWNvbj1cImlvbjpjbG9zZVwiIGRhdGEtaW5saW5lPVwiZmFsc2VcIj48L3NwYW4+JztcbiAgY2xvc2VGb3JtLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlLWZvcm0nKTtcbiAgbGlzdEZvcm0ucHJlcGVuZChjbG9zZUZvcm0pO1xuICBjbG9zZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZm9ybUNvbnRhaW5lci5yZW1vdmUoKTtcbiAgfSk7XG5cbiAgY29uc3QgdG9kb1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb1RpdGxlLnBsYWNlaG9sZGVyID0gJ0VudGVyIFRpdGxlJztcbiAgdG9kb1RpdGxlLnZhbHVlID0gb2JqLnRpdGxlO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvVGl0bGUpO1xuXG4gIGNvbnN0IHRvZG9EZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHRvZG9EZXNjcmlwdGlvbi5wbGFjZWhvbGRlciA9ICdFbnRlciBEZXNjcmlwdGlvbic7XG4gIHRvZG9EZXNjcmlwdGlvbi52YWx1ZSA9IG9iai5kZXNjcmlwdGlvbjtcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQodG9kb0Rlc2NyaXB0aW9uKTtcblxuICBjb25zdCB0b2RvRHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHRvZG9EdWVEYXRlLnR5cGUgPSAnZGF0ZSc7XG4gIHRvZG9EdWVEYXRlLnZhbHVlID0gb2JqLmR1ZURhdGU7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKHRvZG9EdWVEYXRlKTtcblxuICBjb25zdCBsYWJlbEhpZ2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBsYWJlbEhpZ2gudGV4dENvbnRlbnQgPSAnVXJnZW50JztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQobGFiZWxIaWdoKTtcblxuICBjb25zdCBoaWdoUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBoaWdoUHJpb3JpdHkudHlwZSA9ICdyYWRpbyc7XG4gIGhpZ2hQcmlvcml0eS5uYW1lID0gJ3ByaW9yaXR5JztcbiAgaGlnaFByaW9yaXR5LnZhbHVlID0gJ2hpZ2gnO1xuICBpZiAob2JqLnByaW9yaXR5ID09PSBoaWdoUHJpb3JpdHkudmFsdWUpIHtcbiAgICBoaWdoUHJpb3JpdHkuY2hlY2tlZCA9IHRydWU7XG4gIH1cbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQoaGlnaFByaW9yaXR5KTtcblxuICBjb25zdCBsYWJlbE1lZGl1bSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGxhYmVsTWVkaXVtLnRleHRDb250ZW50ID0gJ2ltcG9ydGFudCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKGxhYmVsTWVkaXVtKTtcblxuICBjb25zdCBtZWRpdW1Qcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIG1lZGl1bVByaW9yaXR5LnR5cGUgPSAncmFkaW8nO1xuICBtZWRpdW1Qcmlvcml0eS5uYW1lID0gJ3ByaW9yaXR5JztcbiAgbWVkaXVtUHJpb3JpdHkudmFsdWUgPSAnbWVkaXVtJztcbiAgaWYgKG9iai5wcmlvcml0eSA9PT0gbWVkaXVtUHJpb3JpdHkudmFsdWUpIHtcbiAgICBtZWRpdW1Qcmlvcml0eS5jaGVja2VkID0gdHJ1ZTtcbiAgfVxuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChtZWRpdW1Qcmlvcml0eSk7XG5cbiAgY29uc3QgbGFiZWxMb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBsYWJlbExvdy50ZXh0Q29udGVudCA9ICdub3JtYWwnO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChsYWJlbExvdyk7XG5cbiAgY29uc3QgbG93UHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBsb3dQcmlvcml0eS50eXBlID0gJ3JhZGlvJztcbiAgbG93UHJpb3JpdHkubmFtZSA9ICdwcmlvcml0eSc7XG4gIGxvd1ByaW9yaXR5LnZhbHVlID0gJ2xvdyc7XG4gIGlmIChvYmoucHJpb3JpdHkgPT09IGxvd1ByaW9yaXR5LnZhbHVlKSB7XG4gICAgbG93UHJpb3JpdHkuY2hlY2tlZCA9IHRydWU7XG4gIH1cbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQobG93UHJpb3JpdHkpO1xuXG4gIGNvbnN0IHRvZG9Ob3RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb05vdGUucGxhY2Vob2xkZXIgPSAnQWRkIE5vdGUnO1xuICB0b2RvTm90ZS52YWx1ZSA9IG9iai5ub3RlcztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQodG9kb05vdGUpO1xuXG4gIGNvbnN0IGNvbXBsZXRlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBjb21wbGV0ZUxhYmVsLnRleHRDb250ZW50ID0gJ0NvbXBsZXRlZCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKGNvbXBsZXRlTGFiZWwpO1xuXG4gIGNvbnN0IHRvZG9DaGVja0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICB0b2RvQ2hlY2tMaXN0LnR5cGUgPSAnY2hlY2tib3gnO1xuICB0b2RvQ2hlY2tMaXN0LmNoZWNrZWQgPSAob2JqLmNoZWNrbGlzdCA9PT0gJ2NvbXBsZXRlZCcpO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvQ2hlY2tMaXN0KTtcblxuICBjb25zdCB0b2RvUHJpb3JpdHkgPSAoKSA9PiB7XG4gICAgaWYgKGhpZ2hQcmlvcml0eS5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gaGlnaFByaW9yaXR5LnZhbHVlO1xuICAgIH0gaWYgKG1lZGl1bVByaW9yaXR5LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBtZWRpdW1Qcmlvcml0eS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGxvd1ByaW9yaXR5LnZhbHVlO1xuICB9O1xuXG4gIGNvbnN0IHRvZG9Db21wbGV0ZSA9ICdwZW5kaW5nJztcblxuICBjb25zdCBzYXZlVG9kb0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBzYXZlVG9kb0J0bi50eXBlID0gJ2J1dHRvbic7XG4gIHNhdmVUb2RvQnRuLnRleHRDb250ZW50ID0gJ1NhdmUnO1xuXG4gIHNhdmVUb2RvQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG9iai5lZGl0KFxuICAgICAgdG9kb1RpdGxlLnZhbHVlLFxuICAgICAgdG9kb0Rlc2NyaXB0aW9uLnZhbHVlLFxuICAgICAgdG9kb0R1ZURhdGUudmFsdWUsXG4gICAgICB0b2RvUHJpb3JpdHkoKSxcbiAgICAgIHRvZG9Ob3RlLnZhbHVlLFxuICAgICAgdG9kb0NvbXBsZXRlLFxuICAgICk7XG5cbiAgICB1cGRhdGVUb2RvSXRlbShkb21PYmosIG9iaik7XG4gIH0pO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChzYXZlVG9kb0J0bik7XG59O1xuXG5jb25zdCBkaXNwbGF5VG9kb0l0ZW1zID0gKGFyciwgcHJvamVjdCwgcHJvamVjdEFyciwgcHJvamVjdEluZGV4KSA9PiB7XG4gIGNvbnN0IG9sZFRvZG9zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZG8td3JhcCcpO1xuICBpZiAob2xkVG9kb3MgIT0gbnVsbCkge1xuICAgIG9sZFRvZG9zLnJlbW92ZSgpO1xuICB9XG4gIGNvbnN0IHRvZG9XcmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHRvZG9XcmFwLmNsYXNzTGlzdC5hZGQoJ3RvZG8td3JhcCcpO1xuICB0b2RvV3JhcC5pZCA9ICd0b2RvLXdyYXAnO1xuXG4gIGNvbnN0IHRvZG9JdGVtTWFrZXIgPSAocGFyZW50LCBvYmosIGluZGV4LCBwcm9qZWN0KSA9PiB7XG4gICAgY29uc3QgdG9kb0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0b2RvSXRlbS5jbGFzc0xpc3QuYWRkKCd0b2RvLWl0ZW1zJyk7XG5cbiAgICBjb25zdCB0b2RvVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgIHRvZG9UaXRsZS5jbGFzc0xpc3QuYWRkKCd0b2RvLXRpdGxlJyk7XG4gICAgdG9kb1RpdGxlLnRleHRDb250ZW50ID0gb2JqLnRpdGxlO1xuXG4gICAgY29uc3QgdG9kb0Rlc2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgdG9kb0Rlc2MuY2xhc3NMaXN0LmFkZCgndG9kby1kZXNjJyk7XG4gICAgdG9kb0Rlc2MudGV4dENvbnRlbnQgPSBvYmouZGVzY3JpcHRpb247XG5cbiAgICBjb25zdCB0b2RvRHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICB0b2RvRHVlRGF0ZS5jbGFzc0xpc3QuYWRkKCd0b2RvLWRhdGUnKTtcbiAgICB0b2RvRHVlRGF0ZS50ZXh0Q29udGVudCA9IG9iai5kdWVEYXRlO1xuXG4gICAgY29uc3QgdG9kb05vdGVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIHRvZG9Ob3Rlcy5jbGFzc0xpc3QuYWRkKCd0b2RvLW5vdGVzJyk7XG4gICAgdG9kb05vdGVzLnRleHRDb250ZW50ID0gb2JqLm5vdGVzO1xuXG4gICAgY29uc3Qgc3RhdGVDb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHN0YXRlQ29udHJvbHMuY2xhc3NMaXN0LmFkZCgnc3RhdGUtY29udHJvbHMnKTtcblxuICAgIGNvbnN0IHByaW9yaXR5V3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByaW9yaXR5V3JhcC5jbGFzc0xpc3QuYWRkKCdwcmlvcml0eS13cmFwJyk7XG5cbiAgICBjb25zdCB0b2RvUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0b2RvUHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgndG9kby1wcmlvcml0eScpO1xuICAgIHRvZG9Qcmlvcml0eS50ZXh0Q29udGVudCA9IG9iai5wcmlvcml0eTtcblxuICAgIGNvbnN0IHByaW9yaXR5Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJpb3JpdHlDb250YWluZXIuY2xhc3NMaXN0LmFkZCgncHJpb3JpdHktY29udGFpbmVyJyk7XG5cbiAgICBjb25zdCBoaWdoUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBoaWdoUHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgnaGlnaC1wcmlvcml0eScpO1xuICAgIGhpZ2hQcmlvcml0eS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG9iai5jaGFuZ2VQcmlvcml0eSh0b2RvUHJpb3JpdHksICdoaWdoJyk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBtZWRpdW1Qcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIG1lZGl1bVByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ21lZGl1bS1wcmlvcml0eScpO1xuICAgIG1lZGl1bVByaW9yaXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgb2JqLmNoYW5nZVByaW9yaXR5KHRvZG9Qcmlvcml0eSwgJ21lZGl1bScpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgbm9ybWFsUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBub3JtYWxQcmlvcml0eS5jbGFzc0xpc3QuYWRkKCdsb3ctcHJpb3JpdHknKTtcbiAgICBub3JtYWxQcmlvcml0eS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG9iai5jaGFuZ2VQcmlvcml0eSh0b2RvUHJpb3JpdHksICdsb3cnKTtcbiAgICAgIHByb2plY3RBcnJbcHJvamVjdEluZGV4XSA9IHByb2plY3Q7XG4gICAgICBzdG9yZUl0ZW0oJ3Byb2plY3RzJywgcHJvamVjdEFycik7XG4gICAgfSk7XG5cbiAgICBwcmlvcml0eUNvbnRhaW5lci5hcHBlbmRDaGlsZChoaWdoUHJpb3JpdHkpO1xuICAgIHByaW9yaXR5Q29udGFpbmVyLmFwcGVuZENoaWxkKG1lZGl1bVByaW9yaXR5KTtcbiAgICBwcmlvcml0eUNvbnRhaW5lci5hcHBlbmRDaGlsZChub3JtYWxQcmlvcml0eSk7XG5cbiAgICBwcmlvcml0eVdyYXAuYXBwZW5kQ2hpbGQodG9kb1ByaW9yaXR5KTtcbiAgICBwcmlvcml0eVdyYXAuYXBwZW5kQ2hpbGQocHJpb3JpdHlDb250YWluZXIpO1xuXG4gICAgY29uc3QgY29tcGxldGVkV3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbXBsZXRlZFdyYXAuY2xhc3NMaXN0LmFkZCgnY29tcGxldGVkLXdyYXAnKTtcblxuICAgIGNvbnN0IHRvZG9DaGVja0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0b2RvQ2hlY2tMaXN0LmNsYXNzTGlzdC5hZGQoJ3RvZG8tY2hlY2tsaXN0Jyk7XG4gICAgY29uc3QgdGlja0ljb24gPSAnPHNwYW4gY2xhc3M9XCJpY29uaWZ5XCIgZGF0YS1pY29uPVwic2ktZ2x5cGg6c3F1YXJlLWNoZWNrZWRcIiBkYXRhLWlubGluZT1cImZhbHNlXCI+PC9zcGFuPic7XG4gICAgY29uc3QgdGlja0ljb25HcmVlbiA9ICc8c3BhbiBjbGFzcz1cImljb25pZnkgY29tcGxldGVkXCIgZGF0YS1pY29uPVwic2ktZ2x5cGg6c3F1YXJlLWNoZWNrZWRcIiBkYXRhLWlubGluZT1cImZhbHNlXCI+PC9zcGFuPic7XG4gICAgdG9kb0NoZWNrTGlzdC5pbm5lckhUTUwgPSBvYmouY2hlY2tsaXN0ID09PSAnY29tcGxldGVkJyA/IHRpY2tJY29uIDogb2JqLmNoZWNrbGlzdDtcblxuICAgIGNvbnN0IGNoYW5nZUNvbXBsZXRpb25CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBjaGFuZ2VDb21wbGV0aW9uQnRuLmNsYXNzTGlzdC5hZGQoJ3RvZG8tY2hlY2tsaXN0Jyk7XG4gICAgY2hhbmdlQ29tcGxldGlvbkJ0bi5pbm5lckhUTUwgPSB0aWNrSWNvbjtcbiAgICBjaGFuZ2VDb21wbGV0aW9uQnRuLmNsYXNzTGlzdC5hZGQoJ2NoYW5nZS1jb21wbGV0aW9uJyk7XG4gICAgY2hhbmdlQ29tcGxldGlvbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG9iai5jaGFuZ2VDb21wbGV0aW9uKHRvZG9DaGVja0xpc3QpO1xuICAgICAgcHJvamVjdEFycltwcm9qZWN0SW5kZXhdID0gcHJvamVjdDtcbiAgICAgIHN0b3JlSXRlbSgncHJvamVjdHMnLCBwcm9qZWN0QXJyKTtcbiAgICAgIGNoYW5nZUNvbXBsZXRpb25CdG4uaW5uZXJIVE1MID0gdGlja0ljb25HcmVlbjtcbiAgICB9KTtcblxuICAgIGNvbnN0IGlzQ29tcGxldGVkID0gKGJ0bikgPT4ge1xuICAgICAgaWYgKG9iai5jaGVja2xpc3QgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICAgIGJ0bi5pbm5lckhUTUwgPSB0aWNrSWNvbkdyZWVuO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpc0NvbXBsZXRlZChjaGFuZ2VDb21wbGV0aW9uQnRuKTtcbiAgICBjb21wbGV0ZWRXcmFwLmFwcGVuZENoaWxkKGNoYW5nZUNvbXBsZXRpb25CdG4pO1xuXG4gICAgc3RhdGVDb250cm9scy5hcHBlbmRDaGlsZChwcmlvcml0eVdyYXApO1xuICAgIHN0YXRlQ29udHJvbHMuYXBwZW5kQ2hpbGQoY29tcGxldGVkV3JhcCk7XG5cbiAgICBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgZWRpdEJ0bi5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJpY29uaWZ5XCIgZGF0YS1pY29uPVwiYWthci1pY29uczplZGl0XCIgZGF0YS1pbmxpbmU9XCJmYWxzZVwiPjwvc3Bhbj4nO1xuICAgIGVkaXRCdG4udHlwZSA9ICdidXR0b24nO1xuICAgIGVkaXRCdG4uY2xhc3NMaXN0LmFkZCgnZWRpdC10b2RvJyk7XG4gICAgZWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGRpc3BsYXlFZGl0Rm9ybSh7XG4gICAgICAgIHRpdGxlOiB0b2RvVGl0bGUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiB0b2RvRGVzYyxcbiAgICAgICAgZHVlRGF0ZTogdG9kb0R1ZURhdGUsXG4gICAgICAgIG5vdGVzOiB0b2RvTm90ZXMsXG4gICAgICAgIHByaW9yaXR5OiB0b2RvUHJpb3JpdHksXG4gICAgICAgIGNoZWNrbGlzdDogdG9kb0NoZWNrTGlzdCxcbiAgICAgIH0sIG9iaik7XG4gICAgfSk7XG5cbiAgICBjb25zdCBkZWxldGVUb2RvQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICBkZWxldGVUb2RvQnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cImljb25pZnlcIiBkYXRhLWljb249XCJpYzpiYXNlbGluZS1kZWxldGUtb3V0bGluZVwiIGRhdGEtaW5saW5lPVwiZmFsc2VcIj48L3NwYW4+JztcbiAgICBkZWxldGVUb2RvQnRuLmNsYXNzTGlzdC5hZGQoJ2RlbGV0ZS10b2RvJyk7XG4gICAgZGVsZXRlVG9kb0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHByb2plY3QuZGVsZXRlVG9kbyhpbmRleCk7XG4gICAgICBwcm9qZWN0QXJyW3Byb2plY3RJbmRleF0gPSBwcm9qZWN0O1xuICAgICAgc3RvcmVJdGVtKCdwcm9qZWN0cycsIHByb2plY3RBcnIpO1xuICAgICAgdG9kb0l0ZW0ucmVtb3ZlKCk7XG4gICAgfSk7XG5cbiAgICB0b2RvSXRlbS5hcHBlbmRDaGlsZCh0b2RvVGl0bGUpO1xuICAgIHRvZG9JdGVtLmFwcGVuZENoaWxkKHRvZG9EZXNjKTtcbiAgICB0b2RvSXRlbS5hcHBlbmRDaGlsZCh0b2RvRHVlRGF0ZSk7XG4gICAgdG9kb0l0ZW0uYXBwZW5kQ2hpbGQodG9kb05vdGVzKTtcbiAgICB0b2RvSXRlbS5hcHBlbmRDaGlsZChzdGF0ZUNvbnRyb2xzKTtcbiAgICB0b2RvSXRlbS5hcHBlbmRDaGlsZChlZGl0QnRuKTtcbiAgICB0b2RvSXRlbS5hcHBlbmRDaGlsZChkZWxldGVUb2RvQnRuKTtcblxuICAgIHBhcmVudC5hcHBlbmRDaGlsZCh0b2RvSXRlbSk7XG4gIH07XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBvYmogPSBhcnJbaV07XG4gICAgY29uc3QgaW5kZXggPSBpO1xuICAgIHRvZG9JdGVtTWFrZXIodG9kb1dyYXAsIG9iaiwgaW5kZXgsIHByb2plY3QpO1xuICB9XG5cbiAgYm9keVJpZ2h0LmFwcGVuZENoaWxkKHRvZG9XcmFwKTtcbn07XG5cbmNvbnN0IGNsZWFyRWxlbWVudCA9IChpZCkgPT4ge1xuICBjb25zdCBlbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gIGVsZS5pbm5lckhUTUwgPSAnJztcbn07XG5cbmNvbnN0IG5ld0xpc3QgPSAocHJvamVjdCwgYXJyLCBpbmRleCkgPT4ge1xuICBjb25zdCBvbGRGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tY29udGFpbmVyJyk7XG4gIGlmIChvbGRGb3JtICE9IG51bGwpIHtcbiAgICBvbGRGb3JtLnJlbW92ZSgpO1xuICB9XG4gIGNvbnN0IGZvcm1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgYm9keVJpZ2h0LnByZXBlbmQoZm9ybUNvbnRhaW5lcik7XG4gIGZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnZm9ybS1jb250YWluZXInKTtcbiAgZm9ybUNvbnRhaW5lci5pZCA9ICgnZm9ybS1jb250YWluZXInKTtcblxuICBjb25zdCBsaXN0Rm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgbGlzdEZvcm0uY2xhc3NMaXN0LmFkZCgnbGlzdC1mb3JtJyk7XG4gIGZvcm1Db250YWluZXIuYXBwZW5kQ2hpbGQobGlzdEZvcm0pO1xuXG4gIGNvbnN0IHRvZG9UaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHRvZG9UaXRsZS5wbGFjZWhvbGRlciA9ICdFbnRlciBUaXRsZSc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKHRvZG9UaXRsZSk7XG5cbiAgY29uc3QgY2xvc2VGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNsb3NlRm9ybS5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJpY29uaWZ5XCIgZGF0YS1pY29uPVwiaW9uOmNsb3NlXCIgZGF0YS1pbmxpbmU9XCJmYWxzZVwiPjwvc3Bhbj4nO1xuICBjbG9zZUZvcm0uY2xhc3NMaXN0LmFkZCgnY2xvc2UtZm9ybScpO1xuICBsaXN0Rm9ybS5wcmVwZW5kKGNsb3NlRm9ybSk7XG4gIGNsb3NlRm9ybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBmb3JtQ29udGFpbmVyLnJlbW92ZSgpO1xuICB9KTtcblxuICBjb25zdCB0b2RvRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICB0b2RvRGVzY3JpcHRpb24ucGxhY2Vob2xkZXIgPSAnRW50ZXIgRGVzY3JpcHRpb24nO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvRGVzY3JpcHRpb24pO1xuXG4gIGNvbnN0IHRvZG9EdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb0R1ZURhdGUudHlwZSA9ICdkYXRlJztcbiAgdG9kb0R1ZURhdGUucGxhY2Vob2xkZXIgPSAnRW50ZXIgRGVzY3JpcHRpb24nO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvRHVlRGF0ZSk7XG5cbiAgY29uc3QgbGFiZWxIaWdoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgbGFiZWxIaWdoLnRleHRDb250ZW50ID0gJ1VyZ2VudCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKGxhYmVsSGlnaCk7XG5cbiAgY29uc3QgaGlnaFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgaGlnaFByaW9yaXR5LnR5cGUgPSAncmFkaW8nO1xuICBoaWdoUHJpb3JpdHkubmFtZSA9ICdwcmlvcml0eSc7XG4gIGhpZ2hQcmlvcml0eS52YWx1ZSA9ICdoaWdoJztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQoaGlnaFByaW9yaXR5KTtcblxuICBjb25zdCBsYWJlbE1lZGl1bSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGxhYmVsTWVkaXVtLnRleHRDb250ZW50ID0gJ2ltcG9ydGFudCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKGxhYmVsTWVkaXVtKTtcblxuICBjb25zdCBtZWRpdW1Qcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIG1lZGl1bVByaW9yaXR5LnR5cGUgPSAncmFkaW8nO1xuICBtZWRpdW1Qcmlvcml0eS5uYW1lID0gJ3ByaW9yaXR5JztcbiAgbWVkaXVtUHJpb3JpdHkudmFsdWUgPSAnbWVkaXVtJztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQobWVkaXVtUHJpb3JpdHkpO1xuXG4gIGNvbnN0IGxhYmVsTG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgbGFiZWxMb3cudGV4dENvbnRlbnQgPSAnbm9ybWFsJztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQobGFiZWxMb3cpO1xuXG4gIGNvbnN0IGxvd1ByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgbG93UHJpb3JpdHkudHlwZSA9ICdyYWRpbyc7XG4gIGxvd1ByaW9yaXR5Lm5hbWUgPSAncHJpb3JpdHknO1xuICBsb3dQcmlvcml0eS52YWx1ZSA9ICdsb3cnO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChsb3dQcmlvcml0eSk7XG5cbiAgY29uc3QgdG9kb05vdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICB0b2RvTm90ZS5wbGFjZWhvbGRlciA9ICdBZGQgTm90ZSc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKHRvZG9Ob3RlKTtcblxuICAvLyBjb25zdCBjb21wbGV0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgLy8gY29tcGxldGVMYWJlbC50ZXh0Q29udGVudCA9ICdDb21wbGV0ZWQnO1xuICAvLyBsaXN0Rm9ybS5hcHBlbmRDaGlsZChjb21wbGV0ZUxhYmVsKTtcblxuICAvLyBjb25zdCB0b2RvQ2hlY2tMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgLy8gdG9kb0NoZWNrTGlzdC50eXBlID0gJ2NoZWNrYm94JztcbiAgLy8gbGlzdEZvcm0uYXBwZW5kQ2hpbGQodG9kb0NoZWNrTGlzdCk7XG5cbiAgY29uc3QgdG9kb1ByaW9yaXR5ID0gKCkgPT4ge1xuICAgIGlmIChoaWdoUHJpb3JpdHkuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGhpZ2hQcmlvcml0eS52YWx1ZTtcbiAgICB9IGlmIChtZWRpdW1Qcmlvcml0eS5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gbWVkaXVtUHJpb3JpdHkudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBsb3dQcmlvcml0eS52YWx1ZTtcbiAgfTtcblxuICBjb25zdCB0b2RvQ29tcGxldGUgPSAncGVuZGluZyc7XG5cbiAgY29uc3QgdG9kb0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICB0b2RvQnRuLmNsYXNzTGlzdC5hZGQoJ3RvZG8tYnRuJyk7XG4gIHRvZG9CdG4udHlwZSA9ICdidXR0b24nO1xuICB0b2RvQnRuLnRleHRDb250ZW50ID0gJysnO1xuICB0b2RvQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHByb2plY3QuYWRkVG9kbyhuZXcgVG9kbyhcbiAgICAgIHRvZG9UaXRsZS52YWx1ZSxcbiAgICAgIHRvZG9EZXNjcmlwdGlvbi52YWx1ZSxcbiAgICAgIHRvZG9EdWVEYXRlLnZhbHVlLFxuICAgICAgdG9kb1ByaW9yaXR5KCksXG4gICAgICB0b2RvTm90ZS52YWx1ZSxcbiAgICAgIHRvZG9Db21wbGV0ZSxcbiAgICApKTtcbiAgICBhcnJbaW5kZXhdID0gcHJvamVjdDtcbiAgICBzdG9yZUl0ZW0oJ3Byb2plY3RzJywgYXJyKTtcbiAgICBjbGVhckVsZW1lbnQoJ3RvZG8td3JhcCcpO1xuICAgIGRpc3BsYXlUb2RvSXRlbXMocHJvamVjdC50b2RvcywgcHJvamVjdCwgYXJyLCBpbmRleCk7XG4gICAgZm9ybUNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgfSk7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKHRvZG9CdG4pO1xufTtcblxuY29uc3Qgc2hvd0Zvcm1CdG4gPSAocHJvamVjdCwgYXJyLCBpbmRleCkgPT4ge1xuICBjb25zdCBvbGRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvdy1wcm9qZWN0LWZvcm0tYnRuJyk7XG4gIGlmIChvbGRCdG4gIT0gbnVsbCkge1xuICAgIG9sZEJ0bi5yZW1vdmUoKTtcbiAgfVxuICBjb25zdCBzaG93QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIHNob3dCdG4uaWQgPSAnc2hvdy1wcm9qZWN0LWZvcm0tYnRuJztcbiAgc2hvd0J0bi50eXBlID0gJ2J1dHRvbic7XG4gIHNob3dCdG4udGV4dENvbnRlbnQgPSAnQ3JlYXRlIE5ldyBUb0RvJztcbiAgc2hvd0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBuZXdMaXN0KHByb2plY3QsIGFyciwgaW5kZXgpO1xuICB9KTtcbiAgYm9keVJpZ2h0LmFwcGVuZENoaWxkKHNob3dCdG4pO1xufTtcblxuY29uc3QgZGlzcGxheVByb2plY3RzID0gKGFycikgPT4ge1xuICBjb25zdCBvbGRGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3QtZm9ybS1jb250YWluZXInKTtcbiAgaWYgKG9sZEZvcm0gIT0gbnVsbCkge1xuICAgIG9sZEZvcm0ucmVtb3ZlKCk7XG4gIH1cbiAgY29uc3Qgb2xkUHJvamVjdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdC13cmFwJyk7XG4gIGlmIChvbGRQcm9qZWN0cyAhPSBudWxsKSB7XG4gICAgb2xkUHJvamVjdHMucmVtb3ZlKCk7XG4gIH1cblxuICBjb25zdCBwcm9qZWN0V3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBwcm9qZWN0V3JhcC5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LXdyYXAnKTtcbiAgcHJvamVjdFdyYXAuaWQgPSAncHJvamVjdC13cmFwJztcblxuICBjb25zdCBwcm9qZWN0SXRlbU1ha2VyID0gKHBhcmVudCwgcHJvamVjdCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb2plY3RJdGVtLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtaXRlbXMnKTtcblxuICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgcHJvamVjdFRpdGxlLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtdGl0bGUnKTtcbiAgICBwcm9qZWN0VGl0bGUudGV4dENvbnRlbnQgPSBgJHtwcm9qZWN0LnRpdGxlfSAoJHtwcm9qZWN0LnRvZG9zLmxlbmd0aH0pYDtcblxuICAgIHByb2plY3RUaXRsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHNob3dGb3JtQnRuKHByb2plY3QsIGFyciwgaW5kZXgpO1xuICAgICAgZGlzcGxheVRvZG9JdGVtcyhwcm9qZWN0LnRvZG9zLCBwcm9qZWN0LCBhcnIsIGluZGV4KTtcbiAgICB9KTtcblxuICAgIHByb2plY3RJdGVtLmFwcGVuZENoaWxkKHByb2plY3RUaXRsZSk7XG5cbiAgICBjb25zdCBkZWxldGVQcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgZGVsZXRlUHJvamVjdC5jbGFzc0xpc3QuYWRkKCdkZWxldGUtcHJvamVjdCcpO1xuICAgIGRlbGV0ZVByb2plY3QuaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwiaWNvbmlmeVwiIGRhdGEtaWNvbj1cImljOmJhc2VsaW5lLWRlbGV0ZS1vdXRsaW5lXCIgZGF0YS1pbmxpbmU9XCJmYWxzZVwiPjwvc3Bhbj4nO1xuICAgIGRlbGV0ZVByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHN0b3JlSXRlbSgncHJvamVjdHMnLCBhcnIpO1xuICAgICAgZGlzcGxheVByb2plY3RzKGZldGNoSXRlbSgncHJvamVjdHMnKSk7XG4gICAgfSk7XG4gICAgaWYgKGluZGV4ICE9PSAwKSB7XG4gICAgICBwcm9qZWN0SXRlbS5hcHBlbmRDaGlsZChkZWxldGVQcm9qZWN0KTtcbiAgICB9XG5cbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQocHJvamVjdEl0ZW0pO1xuICB9O1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgcHJvamVjdCA9IGFycltpXTtcbiAgICBwcm9qZWN0SXRlbU1ha2VyKHByb2plY3RXcmFwLCBwcm9qZWN0LCBpKTtcbiAgfVxuXG4gIGJvZHlMZWZ0LmFwcGVuZENoaWxkKHByb2plY3RXcmFwKTtcbn07XG5cbmNvbnN0IG5ld1Byb2plY3QgPSAoKSA9PiB7XG4gIGNvbnN0IHByb2plY3RGb3JtQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtZm9ybS1jb250YWluZXInKTtcbiAgcHJvamVjdEZvcm1Db250YWluZXIuaWQgPSAncHJvamVjdC1mb3JtLWNvbnRhaW5lcic7XG4gIGJvZHlMZWZ0LmFwcGVuZENoaWxkKHByb2plY3RGb3JtQ29udGFpbmVyKTtcblxuICBjb25zdCBwcm9qZWN0Rm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgcHJvamVjdEZvcm0uY2xhc3NMaXN0LmFkZCgncHJvamVjdC1mb3JtJyk7XG4gIHByb2plY3RGb3JtQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RGb3JtKTtcblxuICBjb25zdCBwcm9qZWN0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBwcm9qZWN0VGl0bGUucGxhY2Vob2xkZXIgPSAnUHJvamVjdCBUaXRsZSc7XG4gIHByb2plY3RGb3JtLmFwcGVuZENoaWxkKHByb2plY3RUaXRsZSk7XG5cbiAgY29uc3QgYWRkUHJvamVjdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBhZGRQcm9qZWN0QnRuLmlubmVySFRNTCA9ICdDcmVhdGUnO1xuICBhZGRQcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoJ2FkZC1wcm9qZWN0LWJ0bicpO1xuICBhZGRQcm9qZWN0QnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgcHJvamVjdEZvcm0uYXBwZW5kQ2hpbGQoYWRkUHJvamVjdEJ0bik7XG5cbiAgYWRkUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBhZGRJdGVtKCdwcm9qZWN0cycsIG5ldyBQcm9qZWN0KHByb2plY3RUaXRsZS52YWx1ZSkpO1xuICAgIGRpc3BsYXlQcm9qZWN0cyhmZXRjaEl0ZW0oJ3Byb2plY3RzJykpO1xuICB9KTtcbn07XG5cbmNvbnN0IG5ld1Byb2plY3RCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbm5ld1Byb2plY3RCdG4uY2xhc3NMaXN0LmFkZCgnbmV3LXByb2plY3QtYnV0dG9uJyk7XG5uZXdQcm9qZWN0QnRuLmlubmVySFRNTCA9ICdOZXcgUHJvamVjdCc7XG5ib2R5TGVmdC5hcHBlbmRDaGlsZChuZXdQcm9qZWN0QnRuKTtcbm5ld1Byb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIG5ld1Byb2plY3QoKTtcbn0pO1xuXG5leHBvcnQgeyBuZXdMaXN0LCBkaXNwbGF5VG9kb0l0ZW1zLCBkaXNwbGF5UHJvamVjdHMgfTtcbiIsImltcG9ydCB7IGRpc3BsYXlQcm9qZWN0cyB9IGZyb20gJy4vZG9tJztcbmltcG9ydCB7IGZldGNoSXRlbSB9IGZyb20gJy4vbG9jYWxTdG9yYWdlJztcblxuZGlzcGxheVByb2plY3RzKGZldGNoSXRlbSgncHJvamVjdHMnKSk7XG4iXSwic291cmNlUm9vdCI6IiJ9