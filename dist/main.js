(()=>{"use strict";const e=function(e,t,n,d,o,c){this.title=e,this.description=t,this.dueDate=n,this.priority=d,this.notes=o,this.checklist=c,this.edit=(e,t,n,d,o,c)=>{this.title=e,this.description=t,this.dueDate=n,this.priority=d,this.notes=o,this.checklist=c},this.changePriority=(e,t)=>{e.innerHTML=t,this.priority=t},this.changeCompletion=e=>{e.innerHTML='<span class="iconify" data-icon="si-glyph:square-checked" data-inline="false"></span>',this.checklist="completed"}};function t(e){this.title=e,this.todos=[],this.addTodo=e=>{this.todos.push(e)},this.deleteTodo=e=>{this.todos.splice(e,1)}}const n=new t("Default");n.addTodo(new e("Visit Dentist","See the dentist for molar evaluation","23/03/2010","high","Leave immediately after school","pending")),n.addTodo(new e("Write Article","Write an article on the difference between pass by value and pass by reference","23/03/2010","medium","Set the target audience to begginers","pending"));const d=n=>{const d=new t(n.title);for(let t=0;t<n.todos.length;t+=1)d.addTodo(new e(n.todos[t].title,n.todos[t].description,n.todos[t].dueDate,n.todos[t].priority,n.todos[t].notes,n.todos[t].checklist));return d},o=(e,t)=>window.localStorage.setItem(e,JSON.stringify(t)),c=[n],i=e=>{const t=JSON.parse(window.localStorage.getItem(e));return null==t&&o("projects",c),(e=>{const t=[];for(let n=0;n<e.length;n+=1)t.push(d(e[n]));return t})(t)},a=document.getElementById("content"),l=document.createElement("div");l.classList.add("heading-container");const s=document.createElement("h3");s.textContent="ToDo List",l.appendChild(s),a.appendChild(l);const r=document.createElement("div");r.classList.add("body-container"),a.appendChild(r);const p=document.createElement("div");p.classList.add("body-left");const m=document.createElement("div");m.classList.add("body-right"),r.appendChild(p),r.appendChild(m);const u=(e,t,n,d)=>{const c=document.getElementById("todo-wrap");null!=c&&c.remove();const i=document.createElement("div");i.classList.add("todo-wrap"),i.id="todo-wrap";const a=(e,t,c,i)=>{const a=document.createElement("div");a.classList.add("todo-items");const l=document.createElement("h3");l.classList.add("todo-title"),l.textContent=t.title;const s=document.createElement("p");s.classList.add("todo-desc"),s.textContent=t.description;const r=document.createElement("p");r.classList.add("todo-date"),r.textContent=t.dueDate;const p=document.createElement("p");p.classList.add("todo-notes"),p.textContent=t.notes;const u=document.createElement("div");u.classList.add("state-controls");const h=document.createElement("div");h.classList.add("priority-wrap");const E=document.createElement("div");E.classList.add("todo-priority"),E.textContent=t.priority;const C=document.createElement("div");C.classList.add("priority-container");const v=document.createElement("button");v.classList.add("high-priority"),v.addEventListener("click",(()=>{t.changePriority(E,"high")}));const L=document.createElement("button");L.classList.add("medium-priority"),L.addEventListener("click",(()=>{t.changePriority(E,"medium")}));const y=document.createElement("button");y.classList.add("low-priority"),y.addEventListener("click",(()=>{t.changePriority(E,"low"),n[d]=i,o("projects",n)})),C.appendChild(v),C.appendChild(L),C.appendChild(y),h.appendChild(E),h.appendChild(C);const g=document.createElement("div");g.classList.add("completed-wrap");const f=document.createElement("div");f.classList.add("todo-checklist");const k='<span class="iconify" data-icon="si-glyph:square-checked" data-inline="false"></span>',b='<span class="iconify completed" data-icon="si-glyph:square-checked" data-inline="false"></span>';f.innerHTML="completed"===t.checklist?k:t.checklist;const w=document.createElement("button");var T;w.classList.add("todo-checklist"),w.innerHTML=k,w.classList.add("change-completion"),w.addEventListener("click",(()=>{t.changeCompletion(f),n[d]=i,o("projects",n),w.innerHTML=b})),T=w,"completed"===t.checklist&&(T.innerHTML=b),g.appendChild(w),u.appendChild(h),u.appendChild(g);const j=document.createElement("button");j.innerHTML='<span class="iconify" data-icon="akar-icons:edit" data-inline="false"></span>',j.type="button",j.classList.add("edit-todo"),j.addEventListener("click",(()=>{((e,t)=>{const n=document.createElement("div");n.classList.add("form-container"),n.classList.add("modal"),n.id="edit-todo-form",m.appendChild(n);const d=document.createElement("form");d.classList.add("list-form"),n.appendChild(d);const o=document.createElement("input");o.placeholder="Enter Title",o.value=t.title,d.appendChild(o);const c=document.createElement("input");c.placeholder="Enter Description",c.value=t.description,d.appendChild(c);const i=document.createElement("input");i.type="date",i.value=t.dueDate,d.appendChild(i);const a=document.createElement("label");a.textContent="Urgent",d.appendChild(a);const l=document.createElement("input");l.type="radio",l.name="priority",l.value="high",t.priority===l.value&&(l.checked=!0),d.appendChild(l);const s=document.createElement("label");s.textContent="important",d.appendChild(s);const r=document.createElement("input");r.type="radio",r.name="priority",r.value="medium",t.priority===r.value&&(r.checked=!0),d.appendChild(r);const p=document.createElement("label");p.textContent="normal",d.appendChild(p);const u=document.createElement("input");u.type="radio",u.name="priority",u.value="low",t.priority===u.value&&(u.checked=!0),d.appendChild(u);const h=document.createElement("input");h.placeholder="Add Note",h.value=t.notes,d.appendChild(h);const E=document.createElement("label");E.textContent="Completed",d.appendChild(E);const C=document.createElement("input");C.type="checkbox",C.checked="completed"===t.checklist,d.appendChild(C);const v=document.createElement("button");v.type="button",v.textContent="Save",v.addEventListener("click",(()=>{t.edit(o.value,c.value,i.value,!0===l.checked?l.value:!0===r.checked?r.value:u.value,h.value,!0===C.checked?"completed":"pending"),((e,t)=>{const n=document.getElementById("edit-todo-form");null!=n&&n.remove(),e.title.innerHTML=t.title,e.description.innerHTML=t.description,e.dueDate.innerHTML=t.dueDate,e.notes.innerHTML=t.notes,e.priority.innerHTML=t.priority,e.checklist.innerHTML=t.checklist})(e,t)})),d.appendChild(v)})({title:l,description:s,dueDate:r,notes:p,priority:E,checklist:f},t)}));const x=document.createElement("button");x.innerHTML='<span class="iconify" data-icon="ic:baseline-delete-outline" data-inline="false"></span>',x.classList.add("delete-todo"),x.addEventListener("click",(()=>{i.deleteTodo(c),n[d]=i,o("projects",n),a.remove()})),a.appendChild(l),a.appendChild(s),a.appendChild(r),a.appendChild(p),a.appendChild(u),a.appendChild(j),a.appendChild(x),e.appendChild(a)};for(let n=0;n<e.length;n+=1)a(i,e[n],n,t);m.appendChild(i)},h=t=>{const n=document.getElementById("project-form-container");null!=n&&n.remove();const d=document.getElementById("project-wrap");null!=d&&d.remove();const c=document.createElement("div");c.classList.add("project-wrap"),c.id="project-wrap";const i=(n,d,c)=>{const i=document.createElement("div");i.classList.add("project-items"),i.addEventListener("click",(()=>{((t,n,d)=>{const c=document.getElementById("show-project-form-btn");null!=c&&c.remove();const i=document.createElement("button");i.id="show-project-form-btn",i.type="button",i.textContent="Create New ToDo",i.addEventListener("click",(()=>{((t,n,d)=>{const c=document.getElementById("form-container");null!=c&&c.remove();const i=document.createElement("div");m.prepend(i),i.classList.add("form-container"),i.id="form-container";const a=document.createElement("form");a.classList.add("list-form"),i.appendChild(a);const l=document.createElement("input");l.placeholder="Enter Title",a.appendChild(l);const s=document.createElement("input");s.placeholder="Enter Description",a.appendChild(s);const r=document.createElement("input");r.type="date",r.placeholder="Enter Description",a.appendChild(r);const p=document.createElement("label");p.textContent="Urgent",a.appendChild(p);const h=document.createElement("input");h.type="radio",h.name="priority",h.value="high",a.appendChild(h);const E=document.createElement("label");E.textContent="important",a.appendChild(E);const C=document.createElement("input");C.type="radio",C.name="priority",C.value="medium",a.appendChild(C);const v=document.createElement("label");v.textContent="normal",a.appendChild(v);const L=document.createElement("input");L.type="radio",L.name="priority",L.value="low",a.appendChild(L);const y=document.createElement("input");y.placeholder="Add Note",a.appendChild(y);const g=document.createElement("label");g.textContent="Completed",a.appendChild(g);const f=document.createElement("input");f.type="checkbox",a.appendChild(f);const k=document.createElement("button");k.type="button",k.textContent="+",k.addEventListener("click",(()=>{t.addTodo(new e(l.value,s.value,r.value,!0===h.checked?h.value:!0===C.checked?C.value:L.value,y.value,!0===f.checked?"completed":"pending")),n[d]=t,o("projects",n),document.getElementById("todo-wrap").innerHTML="",u(t.todos,t,n,d),i.innerHTML=""})),a.appendChild(k)})(t,n,d)})),m.appendChild(i)})(d,t,c),u(d.todos,d,t,c)}));const a=document.createElement("h3");a.classList.add("project-title"),a.textContent=`${d.title} (${d.todos.length})`,i.appendChild(a),n.appendChild(i)};for(let e=0;e<t.length;e+=1)i(c,t[e],e);p.appendChild(c)},E=document.createElement("button");E.classList.add("new-project-button"),E.innerHTML="New Project",p.appendChild(E),E.addEventListener("click",(()=>{(()=>{const e=document.createElement("div");e.classList.add("project-form-container"),e.id="project-form-container",p.appendChild(e);const n=document.createElement("form");n.classList.add("project-form"),e.appendChild(n);const d=document.createElement("input");d.placeholder="Project Title",n.appendChild(d);const c=document.createElement("button");c.innerHTML="Create Project",c.classList.add("add-project-btn"),c.type="button",n.appendChild(c),c.addEventListener("click",(()=>{((e,t)=>{const n=i(e);n.push(t),o(e,n)})("projects",new t(d.value)),h(i("projects"))}))})()})),h(i("projects"))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ub2RvTGlzdC8uL3NyYy9uZXdUb2RvLmpzIiwid2VicGFjazovL1RvZG9MaXN0Ly4vc3JjL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vVG9kb0xpc3QvLi9zcmMvbG9jYWxTdG9yYWdlLmpzIiwid2VicGFjazovL1RvZG9MaXN0Ly4vc3JjL2RvbS5qcyIsIndlYnBhY2s6Ly9Ub2RvTGlzdC8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5Iiwibm90ZXMiLCJjaGVja2xpc3QiLCJ0aGlzIiwiZWRpdCIsIm5ld1RpdGxlIiwibmV3ZGVzY3JpcHRpb24iLCJuZXdEdWVEYXRlIiwibmV3UHJpb3JpdHkiLCJuZXdOb3RlcyIsIm5ld0NoZWNrbGlzdCIsImNoYW5nZVByaW9yaXR5IiwidGFyZ2V0IiwidGV4dCIsImlubmVySFRNTCIsImNoYW5nZUNvbXBsZXRpb24iLCJQcm9qZWN0IiwidG9kb3MiLCJhZGRUb2RvIiwib2JqIiwicHVzaCIsImRlbGV0ZVRvZG8iLCJpbmRleCIsInNwbGljZSIsInByb2plY3RPbmUiLCJjb252ZXJ0SnNvblRvVG9kbyIsImpzb25BcnIiLCJob2xkZXIiLCJqIiwibGVuZ3RoIiwic3RvcmVJdGVtIiwibmFtZSIsImRhdGEiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImRlZmF1bHRQcm9qZWN0cyIsImZldGNoSXRlbSIsImpzb24iLCJwYXJzZSIsImdldEl0ZW0iLCJwcm9qZWN0cyIsImkiLCJjb252ZXJ0SnNvblRvUHJvamVjdCIsImJvZHkiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaGVhZGluZ0NvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJoZWFkaW5nIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsImJvZHlDb250YWluZXIiLCJib2R5TGVmdCIsImJvZHlSaWdodCIsImRpc3BsYXlUb2RvSXRlbXMiLCJhcnIiLCJwcm9qZWN0IiwicHJvamVjdEFyciIsInByb2plY3RJbmRleCIsIm9sZFRvZG9zIiwicmVtb3ZlIiwidG9kb1dyYXAiLCJpZCIsInRvZG9JdGVtTWFrZXIiLCJwYXJlbnQiLCJ0b2RvSXRlbSIsInRvZG9UaXRsZSIsInRvZG9EZXNjIiwidG9kb0R1ZURhdGUiLCJ0b2RvTm90ZXMiLCJzdGF0ZUNvbnRyb2xzIiwicHJpb3JpdHlXcmFwIiwidG9kb1ByaW9yaXR5IiwicHJpb3JpdHlDb250YWluZXIiLCJoaWdoUHJpb3JpdHkiLCJhZGRFdmVudExpc3RlbmVyIiwibWVkaXVtUHJpb3JpdHkiLCJub3JtYWxQcmlvcml0eSIsImNvbXBsZXRlZFdyYXAiLCJ0b2RvQ2hlY2tMaXN0IiwidGlja0ljb24iLCJ0aWNrSWNvbkdyZWVuIiwiY2hhbmdlQ29tcGxldGlvbkJ0biIsImJ0biIsImVkaXRCdG4iLCJ0eXBlIiwiZG9tT2JqIiwiZm9ybUNvbnRhaW5lciIsImxpc3RGb3JtIiwicGxhY2Vob2xkZXIiLCJ2YWx1ZSIsInRvZG9EZXNjcmlwdGlvbiIsImxhYmVsSGlnaCIsImNoZWNrZWQiLCJsYWJlbE1lZGl1bSIsImxhYmVsTG93IiwibG93UHJpb3JpdHkiLCJ0b2RvTm90ZSIsImNvbXBsZXRlTGFiZWwiLCJzYXZlVG9kb0J0biIsInRvZG9PYmoiLCJvbGRGb3JtIiwidXBkYXRlVG9kb0l0ZW0iLCJkaXNwbGF5RWRpdEZvcm0iLCJkZWxldGVUb2RvQnRuIiwiZGlzcGxheVByb2plY3RzIiwib2xkUHJvamVjdHMiLCJwcm9qZWN0V3JhcCIsInByb2plY3RJdGVtTWFrZXIiLCJwcm9qZWN0SXRlbSIsIm9sZEJ0biIsInNob3dCdG4iLCJwcmVwZW5kIiwidG9kb0J0biIsIm5ld0xpc3QiLCJzaG93Rm9ybUJ0biIsInByb2plY3RUaXRsZSIsIm5ld1Byb2plY3RCdG4iLCJwcm9qZWN0Rm9ybUNvbnRhaW5lciIsInByb2plY3RGb3JtIiwi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dGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSwgbm90ZXMsIGNoZWNrbGlzdCkge1xuICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICB0aGlzLm5vdGVzID0gbm90ZXM7XG4gIHRoaXMuY2hlY2tsaXN0ID0gY2hlY2tsaXN0O1xuXG4gIHRoaXMuZWRpdCA9IChuZXdUaXRsZSwgbmV3ZGVzY3JpcHRpb24sIG5ld0R1ZURhdGUsIG5ld1ByaW9yaXR5LCBuZXdOb3RlcywgbmV3Q2hlY2tsaXN0KSA9PiB7XG4gICAgdGhpcy50aXRsZSA9IG5ld1RpdGxlO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBuZXdkZXNjcmlwdGlvbjtcbiAgICB0aGlzLmR1ZURhdGUgPSBuZXdEdWVEYXRlO1xuICAgIHRoaXMucHJpb3JpdHkgPSBuZXdQcmlvcml0eTtcbiAgICB0aGlzLm5vdGVzID0gbmV3Tm90ZXM7XG4gICAgdGhpcy5jaGVja2xpc3QgPSBuZXdDaGVja2xpc3Q7XG4gIH07XG5cbiAgdGhpcy5jaGFuZ2VQcmlvcml0eSA9ICh0YXJnZXQsIHRleHQpID0+IHtcbiAgICB0YXJnZXQuaW5uZXJIVE1MID0gdGV4dDtcbiAgICB0aGlzLnByaW9yaXR5ID0gdGV4dDtcbiAgfTtcblxuICB0aGlzLmNoYW5nZUNvbXBsZXRpb24gPSAodGFyZ2V0KSA9PiB7XG4gICAgdGFyZ2V0LmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cImljb25pZnlcIiBkYXRhLWljb249XCJzaS1nbHlwaDpzcXVhcmUtY2hlY2tlZFwiIGRhdGEtaW5saW5lPVwiZmFsc2VcIj48L3NwYW4+JztcbiAgICB0aGlzLmNoZWNrbGlzdCA9ICdjb21wbGV0ZWQnO1xuICB9O1xuXG4gIC8vIHRoaXMuZGVsZXRlVG9kbyA9IChpbmRleCkgPT4ge1xuICAvLyAgIHRoaXMudG9kb3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgLy8gfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVG9kbztcbiIsImZ1bmN0aW9uIFByb2plY3QodGl0bGUpIHtcbiAgdGhpcy50aXRsZSA9IHRpdGxlO1xuXG4gIHRoaXMudG9kb3MgPSBbXTtcblxuICB0aGlzLmFkZFRvZG8gPSAob2JqKSA9PiB7XG4gICAgdGhpcy50b2Rvcy5wdXNoKG9iaik7XG4gIH07XG5cbiAgdGhpcy5kZWxldGVUb2RvID0gKGluZGV4KSA9PiB7XG4gICAgdGhpcy50b2Rvcy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9O1xufVxuXG5leHBvcnQgeyBQcm9qZWN0IGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgVG9kbyBmcm9tICcuL25ld1RvZG8nO1xuaW1wb3J0IFByb2plY3QgZnJvbSAnLi9wcm9qZWN0JztcblxuY29uc3QgcHJvamVjdE9uZSA9IG5ldyBQcm9qZWN0KCdEZWZhdWx0Jyk7XG5wcm9qZWN0T25lLmFkZFRvZG8obmV3IFRvZG8oXG4gICdWaXNpdCBEZW50aXN0JyxcbiAgJ1NlZSB0aGUgZGVudGlzdCBmb3IgbW9sYXIgZXZhbHVhdGlvbicsXG4gICcyMy8wMy8yMDEwJyxcbiAgJ2hpZ2gnLFxuICAnTGVhdmUgaW1tZWRpYXRlbHkgYWZ0ZXIgc2Nob29sJyxcbiAgJ3BlbmRpbmcnLFxuKSk7XG5cbnByb2plY3RPbmUuYWRkVG9kbyhuZXcgVG9kbyhcbiAgJ1dyaXRlIEFydGljbGUnLFxuICAnV3JpdGUgYW4gYXJ0aWNsZSBvbiB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHBhc3MgYnkgdmFsdWUgYW5kIHBhc3MgYnkgcmVmZXJlbmNlJyxcbiAgJzIzLzAzLzIwMTAnLFxuICAnbWVkaXVtJyxcbiAgJ1NldCB0aGUgdGFyZ2V0IGF1ZGllbmNlIHRvIGJlZ2dpbmVycycsXG4gICdwZW5kaW5nJyxcbikpO1xuXG5jb25zdCBjb252ZXJ0SnNvblRvVG9kbyA9IChqc29uQXJyKSA9PiB7XG4gIGNvbnN0IGhvbGRlciA9IG5ldyBQcm9qZWN0KGpzb25BcnIudGl0bGUpO1xuICBmb3IgKGxldCBqID0gMDsgaiA8IGpzb25BcnIudG9kb3MubGVuZ3RoOyBqICs9IDEpIHtcbiAgICBob2xkZXIuYWRkVG9kbyhuZXcgVG9kbyhcbiAgICAgIGpzb25BcnIudG9kb3Nbal0udGl0bGUsXG4gICAgICBqc29uQXJyLnRvZG9zW2pdLmRlc2NyaXB0aW9uLFxuICAgICAganNvbkFyci50b2Rvc1tqXS5kdWVEYXRlLFxuICAgICAganNvbkFyci50b2Rvc1tqXS5wcmlvcml0eSxcbiAgICAgIGpzb25BcnIudG9kb3Nbal0ubm90ZXMsXG4gICAgICBqc29uQXJyLnRvZG9zW2pdLmNoZWNrbGlzdCxcbiAgICApKTtcbiAgfVxuICByZXR1cm4gaG9sZGVyO1xufTtcblxuY29uc3QgY29udmVydEpzb25Ub1Byb2plY3QgPSAoanNvbkFycikgPT4ge1xuICBjb25zdCBwcm9qZWN0cyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGpzb25BcnIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBwcm9qZWN0cy5wdXNoKGNvbnZlcnRKc29uVG9Ub2RvKGpzb25BcnJbaV0pKTtcbiAgfVxuICByZXR1cm4gcHJvamVjdHM7XG59O1xuXG5jb25zdCBzdG9yZUl0ZW0gPSAobmFtZSwgZGF0YSkgPT4gd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKG5hbWUsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcblxuY29uc3QgZGVmYXVsdFByb2plY3RzID0gW3Byb2plY3RPbmVdO1xuXG5jb25zdCBmZXRjaEl0ZW0gPSBuYW1lID0+IHtcbiAgY29uc3QganNvbiA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKG5hbWUpKTtcbiAgaWYgKGpzb24gPT0gbnVsbCkge1xuICAgIHN0b3JlSXRlbSgncHJvamVjdHMnLCBkZWZhdWx0UHJvamVjdHMpO1xuICB9XG4gIHJldHVybiBjb252ZXJ0SnNvblRvUHJvamVjdChqc29uKTtcbn07XG5cbmNvbnN0IGFkZEl0ZW0gPSAobmFtZSwgcHJvamVjdE9iaikgPT4ge1xuICBjb25zdCBwcm9qZWN0QXJyID0gZmV0Y2hJdGVtKG5hbWUpO1xuICBwcm9qZWN0QXJyLnB1c2gocHJvamVjdE9iaik7XG4gIHN0b3JlSXRlbShuYW1lLCBwcm9qZWN0QXJyKTtcbn07XG5cbmV4cG9ydCB7IGZldGNoSXRlbSwgc3RvcmVJdGVtLCBhZGRJdGVtIH07XG4iLCJpbXBvcnQgVG9kbyBmcm9tICcuL25ld1RvZG8nO1xuaW1wb3J0IFByb2plY3QgZnJvbSAnLi9wcm9qZWN0JztcbmltcG9ydCB7IGZldGNoSXRlbSwgYWRkSXRlbSwgc3RvcmVJdGVtIH0gZnJvbSAnLi9sb2NhbFN0b3JhZ2UnO1xuXG5jb25zdCBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRlbnQnKTtcblxuY29uc3QgaGVhZGluZ0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuaGVhZGluZ0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoZWFkaW5nLWNvbnRhaW5lcicpO1xuY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG5oZWFkaW5nLnRleHRDb250ZW50ID0gJ1RvRG8gTGlzdCc7XG5oZWFkaW5nQ29udGFpbmVyLmFwcGVuZENoaWxkKGhlYWRpbmcpO1xuYm9keS5hcHBlbmRDaGlsZChoZWFkaW5nQ29udGFpbmVyKTtcblxuY29uc3QgYm9keUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuYm9keUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdib2R5LWNvbnRhaW5lcicpO1xuYm9keS5hcHBlbmRDaGlsZChib2R5Q29udGFpbmVyKTtcblxuXG5jb25zdCBib2R5TGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuYm9keUxlZnQuY2xhc3NMaXN0LmFkZCgnYm9keS1sZWZ0Jyk7XG5jb25zdCBib2R5UmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbmJvZHlSaWdodC5jbGFzc0xpc3QuYWRkKCdib2R5LXJpZ2h0Jyk7XG5cbmJvZHlDb250YWluZXIuYXBwZW5kQ2hpbGQoYm9keUxlZnQpO1xuYm9keUNvbnRhaW5lci5hcHBlbmRDaGlsZChib2R5UmlnaHQpO1xuXG5jb25zdCB1cGRhdGVUb2RvSXRlbSA9IChkb21PYmosIHRvZG9PYmopID0+IHtcbiAgY29uc3Qgb2xkRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LXRvZG8tZm9ybScpO1xuICBpZiAob2xkRm9ybSAhPSBudWxsKSB7XG4gICAgb2xkRm9ybS5yZW1vdmUoKTtcbiAgfVxuICBkb21PYmoudGl0bGUuaW5uZXJIVE1MID0gdG9kb09iai50aXRsZTtcbiAgZG9tT2JqLmRlc2NyaXB0aW9uLmlubmVySFRNTCA9IHRvZG9PYmouZGVzY3JpcHRpb247XG4gIGRvbU9iai5kdWVEYXRlLmlubmVySFRNTCA9IHRvZG9PYmouZHVlRGF0ZTtcbiAgZG9tT2JqLm5vdGVzLmlubmVySFRNTCA9IHRvZG9PYmoubm90ZXM7XG4gIGRvbU9iai5wcmlvcml0eS5pbm5lckhUTUwgPSB0b2RvT2JqLnByaW9yaXR5O1xuICBkb21PYmouY2hlY2tsaXN0LmlubmVySFRNTCA9IHRvZG9PYmouY2hlY2tsaXN0O1xufTtcblxuY29uc3QgZGlzcGxheUVkaXRGb3JtID0gKGRvbU9iaiwgb2JqKSA9PiB7XG4gIGNvbnN0IGZvcm1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmb3JtLWNvbnRhaW5lcicpO1xuICBmb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ21vZGFsJyk7XG4gIGZvcm1Db250YWluZXIuaWQgPSAnZWRpdC10b2RvLWZvcm0nO1xuICBib2R5UmlnaHQuYXBwZW5kQ2hpbGQoZm9ybUNvbnRhaW5lcik7XG5cbiAgY29uc3QgbGlzdEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gIGxpc3RGb3JtLmNsYXNzTGlzdC5hZGQoJ2xpc3QtZm9ybScpO1xuICBmb3JtQ29udGFpbmVyLmFwcGVuZENoaWxkKGxpc3RGb3JtKTtcblxuICBjb25zdCB0b2RvVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICB0b2RvVGl0bGUucGxhY2Vob2xkZXIgPSAnRW50ZXIgVGl0bGUnO1xuICB0b2RvVGl0bGUudmFsdWUgPSBvYmoudGl0bGU7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKHRvZG9UaXRsZSk7XG5cbiAgY29uc3QgdG9kb0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb0Rlc2NyaXB0aW9uLnBsYWNlaG9sZGVyID0gJ0VudGVyIERlc2NyaXB0aW9uJztcbiAgdG9kb0Rlc2NyaXB0aW9uLnZhbHVlID0gb2JqLmRlc2NyaXB0aW9uO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvRGVzY3JpcHRpb24pO1xuXG4gIGNvbnN0IHRvZG9EdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb0R1ZURhdGUudHlwZSA9ICdkYXRlJztcbiAgdG9kb0R1ZURhdGUudmFsdWUgPSBvYmouZHVlRGF0ZTtcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQodG9kb0R1ZURhdGUpO1xuXG4gIGNvbnN0IGxhYmVsSGlnaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGxhYmVsSGlnaC50ZXh0Q29udGVudCA9ICdVcmdlbnQnO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChsYWJlbEhpZ2gpO1xuXG4gIGNvbnN0IGhpZ2hQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGhpZ2hQcmlvcml0eS50eXBlID0gJ3JhZGlvJztcbiAgaGlnaFByaW9yaXR5Lm5hbWUgPSAncHJpb3JpdHknO1xuICBoaWdoUHJpb3JpdHkudmFsdWUgPSAnaGlnaCc7XG4gIGlmIChvYmoucHJpb3JpdHkgPT09IGhpZ2hQcmlvcml0eS52YWx1ZSkge1xuICAgIGhpZ2hQcmlvcml0eS5jaGVja2VkID0gdHJ1ZTtcbiAgfVxuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChoaWdoUHJpb3JpdHkpO1xuXG4gIGNvbnN0IGxhYmVsTWVkaXVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgbGFiZWxNZWRpdW0udGV4dENvbnRlbnQgPSAnaW1wb3J0YW50JztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQobGFiZWxNZWRpdW0pO1xuXG4gIGNvbnN0IG1lZGl1bVByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgbWVkaXVtUHJpb3JpdHkudHlwZSA9ICdyYWRpbyc7XG4gIG1lZGl1bVByaW9yaXR5Lm5hbWUgPSAncHJpb3JpdHknO1xuICBtZWRpdW1Qcmlvcml0eS52YWx1ZSA9ICdtZWRpdW0nO1xuICBpZiAob2JqLnByaW9yaXR5ID09PSBtZWRpdW1Qcmlvcml0eS52YWx1ZSkge1xuICAgIG1lZGl1bVByaW9yaXR5LmNoZWNrZWQgPSB0cnVlO1xuICB9XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKG1lZGl1bVByaW9yaXR5KTtcblxuICBjb25zdCBsYWJlbExvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGxhYmVsTG93LnRleHRDb250ZW50ID0gJ25vcm1hbCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKGxhYmVsTG93KTtcblxuICBjb25zdCBsb3dQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGxvd1ByaW9yaXR5LnR5cGUgPSAncmFkaW8nO1xuICBsb3dQcmlvcml0eS5uYW1lID0gJ3ByaW9yaXR5JztcbiAgbG93UHJpb3JpdHkudmFsdWUgPSAnbG93JztcbiAgaWYgKG9iai5wcmlvcml0eSA9PT0gbG93UHJpb3JpdHkudmFsdWUpIHtcbiAgICBsb3dQcmlvcml0eS5jaGVja2VkID0gdHJ1ZTtcbiAgfVxuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChsb3dQcmlvcml0eSk7XG5cbiAgY29uc3QgdG9kb05vdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICB0b2RvTm90ZS5wbGFjZWhvbGRlciA9ICdBZGQgTm90ZSc7XG4gIHRvZG9Ob3RlLnZhbHVlID0gb2JqLm5vdGVzO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvTm90ZSk7XG5cbiAgY29uc3QgY29tcGxldGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGNvbXBsZXRlTGFiZWwudGV4dENvbnRlbnQgPSAnQ29tcGxldGVkJztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQoY29tcGxldGVMYWJlbCk7XG5cbiAgY29uc3QgdG9kb0NoZWNrTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHRvZG9DaGVja0xpc3QudHlwZSA9ICdjaGVja2JveCc7XG4gIHRvZG9DaGVja0xpc3QuY2hlY2tlZCA9IChvYmouY2hlY2tsaXN0ID09PSAnY29tcGxldGVkJyk7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKHRvZG9DaGVja0xpc3QpO1xuXG4gIGNvbnN0IHRvZG9Qcmlvcml0eSA9ICgpID0+IHtcbiAgICBpZiAoaGlnaFByaW9yaXR5LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBoaWdoUHJpb3JpdHkudmFsdWU7XG4gICAgfSBpZiAobWVkaXVtUHJpb3JpdHkuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIG1lZGl1bVByaW9yaXR5LnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbG93UHJpb3JpdHkudmFsdWU7XG4gIH07XG5cbiAgY29uc3QgdG9kb0NvbXBsZXRlID0gKCkgPT4gKCh0b2RvQ2hlY2tMaXN0LmNoZWNrZWQgPT09IHRydWUpID8gJ2NvbXBsZXRlZCcgOiAncGVuZGluZycpO1xuXG4gIGNvbnN0IHNhdmVUb2RvQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIHNhdmVUb2RvQnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgc2F2ZVRvZG9CdG4udGV4dENvbnRlbnQgPSAnU2F2ZSc7XG5cbiAgc2F2ZVRvZG9CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgb2JqLmVkaXQoXG4gICAgICB0b2RvVGl0bGUudmFsdWUsXG4gICAgICB0b2RvRGVzY3JpcHRpb24udmFsdWUsXG4gICAgICB0b2RvRHVlRGF0ZS52YWx1ZSxcbiAgICAgIHRvZG9Qcmlvcml0eSgpLFxuICAgICAgdG9kb05vdGUudmFsdWUsXG4gICAgICB0b2RvQ29tcGxldGUoKSxcbiAgICApO1xuXG4gICAgdXBkYXRlVG9kb0l0ZW0oZG9tT2JqLCBvYmopO1xuICB9KTtcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQoc2F2ZVRvZG9CdG4pO1xufTtcblxuY29uc3QgZGlzcGxheVRvZG9JdGVtcyA9IChhcnIsIHByb2plY3QsIHByb2plY3RBcnIsIHByb2plY3RJbmRleCkgPT4ge1xuICBjb25zdCBvbGRUb2RvcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvLXdyYXAnKTtcbiAgaWYgKG9sZFRvZG9zICE9IG51bGwpIHtcbiAgICBvbGRUb2Rvcy5yZW1vdmUoKTtcbiAgfVxuICBjb25zdCB0b2RvV3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0b2RvV3JhcC5jbGFzc0xpc3QuYWRkKCd0b2RvLXdyYXAnKTtcbiAgdG9kb1dyYXAuaWQgPSAndG9kby13cmFwJztcblxuICBjb25zdCB0b2RvSXRlbU1ha2VyID0gKHBhcmVudCwgb2JqLCBpbmRleCwgcHJvamVjdCkgPT4ge1xuICAgIGNvbnN0IHRvZG9JdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdG9kb0l0ZW0uY2xhc3NMaXN0LmFkZCgndG9kby1pdGVtcycpO1xuXG4gICAgY29uc3QgdG9kb1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICB0b2RvVGl0bGUuY2xhc3NMaXN0LmFkZCgndG9kby10aXRsZScpO1xuICAgIHRvZG9UaXRsZS50ZXh0Q29udGVudCA9IG9iai50aXRsZTtcblxuICAgIGNvbnN0IHRvZG9EZXNjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIHRvZG9EZXNjLmNsYXNzTGlzdC5hZGQoJ3RvZG8tZGVzYycpO1xuICAgIHRvZG9EZXNjLnRleHRDb250ZW50ID0gb2JqLmRlc2NyaXB0aW9uO1xuXG4gICAgY29uc3QgdG9kb0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgdG9kb0R1ZURhdGUuY2xhc3NMaXN0LmFkZCgndG9kby1kYXRlJyk7XG4gICAgdG9kb0R1ZURhdGUudGV4dENvbnRlbnQgPSBvYmouZHVlRGF0ZTtcblxuICAgIGNvbnN0IHRvZG9Ob3RlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICB0b2RvTm90ZXMuY2xhc3NMaXN0LmFkZCgndG9kby1ub3RlcycpO1xuICAgIHRvZG9Ob3Rlcy50ZXh0Q29udGVudCA9IG9iai5ub3RlcztcblxuICAgIGNvbnN0IHN0YXRlQ29udHJvbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBzdGF0ZUNvbnRyb2xzLmNsYXNzTGlzdC5hZGQoJ3N0YXRlLWNvbnRyb2xzJyk7XG5cbiAgICBjb25zdCBwcmlvcml0eVdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcmlvcml0eVdyYXAuY2xhc3NMaXN0LmFkZCgncHJpb3JpdHktd3JhcCcpO1xuXG4gICAgY29uc3QgdG9kb1ByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdG9kb1ByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ3RvZG8tcHJpb3JpdHknKTtcbiAgICB0b2RvUHJpb3JpdHkudGV4dENvbnRlbnQgPSBvYmoucHJpb3JpdHk7XG5cbiAgICBjb25zdCBwcmlvcml0eUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByaW9yaXR5Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3ByaW9yaXR5LWNvbnRhaW5lcicpO1xuXG5cbiAgICBjb25zdCBoaWdoUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBoaWdoUHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgnaGlnaC1wcmlvcml0eScpO1xuICAgIGhpZ2hQcmlvcml0eS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG9iai5jaGFuZ2VQcmlvcml0eSh0b2RvUHJpb3JpdHksICdoaWdoJyk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBtZWRpdW1Qcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIG1lZGl1bVByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ21lZGl1bS1wcmlvcml0eScpO1xuICAgIG1lZGl1bVByaW9yaXR5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgb2JqLmNoYW5nZVByaW9yaXR5KHRvZG9Qcmlvcml0eSwgJ21lZGl1bScpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgbm9ybWFsUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBub3JtYWxQcmlvcml0eS5jbGFzc0xpc3QuYWRkKCdsb3ctcHJpb3JpdHknKTtcbiAgICBub3JtYWxQcmlvcml0eS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG9iai5jaGFuZ2VQcmlvcml0eSh0b2RvUHJpb3JpdHksICdsb3cnKTtcbiAgICAgIHByb2plY3RBcnJbcHJvamVjdEluZGV4XSA9IHByb2plY3Q7XG4gICAgICBzdG9yZUl0ZW0oJ3Byb2plY3RzJywgcHJvamVjdEFycik7XG4gICAgfSk7XG5cbiAgICBwcmlvcml0eUNvbnRhaW5lci5hcHBlbmRDaGlsZChoaWdoUHJpb3JpdHkpO1xuICAgIHByaW9yaXR5Q29udGFpbmVyLmFwcGVuZENoaWxkKG1lZGl1bVByaW9yaXR5KTtcbiAgICBwcmlvcml0eUNvbnRhaW5lci5hcHBlbmRDaGlsZChub3JtYWxQcmlvcml0eSk7XG5cblxuICAgIHByaW9yaXR5V3JhcC5hcHBlbmRDaGlsZCh0b2RvUHJpb3JpdHkpO1xuICAgIHByaW9yaXR5V3JhcC5hcHBlbmRDaGlsZChwcmlvcml0eUNvbnRhaW5lcik7XG5cbiAgICBjb25zdCBjb21wbGV0ZWRXcmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29tcGxldGVkV3JhcC5jbGFzc0xpc3QuYWRkKCdjb21wbGV0ZWQtd3JhcCcpO1xuXG4gICAgY29uc3QgdG9kb0NoZWNrTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRvZG9DaGVja0xpc3QuY2xhc3NMaXN0LmFkZCgndG9kby1jaGVja2xpc3QnKTtcbiAgICBjb25zdCB0aWNrSWNvbiA9ICc8c3BhbiBjbGFzcz1cImljb25pZnlcIiBkYXRhLWljb249XCJzaS1nbHlwaDpzcXVhcmUtY2hlY2tlZFwiIGRhdGEtaW5saW5lPVwiZmFsc2VcIj48L3NwYW4+JztcbiAgICBjb25zdCB0aWNrSWNvbkdyZWVuID0gJzxzcGFuIGNsYXNzPVwiaWNvbmlmeSBjb21wbGV0ZWRcIiBkYXRhLWljb249XCJzaS1nbHlwaDpzcXVhcmUtY2hlY2tlZFwiIGRhdGEtaW5saW5lPVwiZmFsc2VcIj48L3NwYW4+JztcbiAgICB0b2RvQ2hlY2tMaXN0LmlubmVySFRNTCA9IG9iai5jaGVja2xpc3QgPT09ICdjb21wbGV0ZWQnID8gdGlja0ljb24gOiBvYmouY2hlY2tsaXN0O1xuXG4gICAgY29uc3QgY2hhbmdlQ29tcGxldGlvbkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNoYW5nZUNvbXBsZXRpb25CdG4uY2xhc3NMaXN0LmFkZCgndG9kby1jaGVja2xpc3QnKTtcbiAgICBjaGFuZ2VDb21wbGV0aW9uQnRuLmlubmVySFRNTCA9IHRpY2tJY29uO1xuICAgIGNoYW5nZUNvbXBsZXRpb25CdG4uY2xhc3NMaXN0LmFkZCgnY2hhbmdlLWNvbXBsZXRpb24nKTtcbiAgICBjaGFuZ2VDb21wbGV0aW9uQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgb2JqLmNoYW5nZUNvbXBsZXRpb24odG9kb0NoZWNrTGlzdCk7XG4gICAgICBwcm9qZWN0QXJyW3Byb2plY3RJbmRleF0gPSBwcm9qZWN0O1xuICAgICAgc3RvcmVJdGVtKCdwcm9qZWN0cycsIHByb2plY3RBcnIpO1xuICAgICAgY2hhbmdlQ29tcGxldGlvbkJ0bi5pbm5lckhUTUwgPSB0aWNrSWNvbkdyZWVuO1xuICAgIH0pO1xuXG4gICAgY29uc3QgaXNDb21wbGV0ZWQgPSAoYnRuKSA9PiB7XG4gICAgICBpZiAob2JqLmNoZWNrbGlzdCA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgYnRuLmlubmVySFRNTCA9IHRpY2tJY29uR3JlZW47XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlzQ29tcGxldGVkKGNoYW5nZUNvbXBsZXRpb25CdG4pO1xuICAgIGNvbXBsZXRlZFdyYXAuYXBwZW5kQ2hpbGQoY2hhbmdlQ29tcGxldGlvbkJ0bik7XG5cbiAgICBzdGF0ZUNvbnRyb2xzLmFwcGVuZENoaWxkKHByaW9yaXR5V3JhcCk7XG4gICAgc3RhdGVDb250cm9scy5hcHBlbmRDaGlsZChjb21wbGV0ZWRXcmFwKTtcblxuICAgIGNvbnN0IGVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBlZGl0QnRuLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cImljb25pZnlcIiBkYXRhLWljb249XCJha2FyLWljb25zOmVkaXRcIiBkYXRhLWlubGluZT1cImZhbHNlXCI+PC9zcGFuPic7XG4gICAgZWRpdEJ0bi50eXBlID0gJ2J1dHRvbic7XG4gICAgZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKCdlZGl0LXRvZG8nKTtcbiAgICBlZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZGlzcGxheUVkaXRGb3JtKHtcbiAgICAgICAgdGl0bGU6IHRvZG9UaXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb246IHRvZG9EZXNjLFxuICAgICAgICBkdWVEYXRlOiB0b2RvRHVlRGF0ZSxcbiAgICAgICAgbm90ZXM6IHRvZG9Ob3RlcyxcbiAgICAgICAgcHJpb3JpdHk6IHRvZG9Qcmlvcml0eSxcbiAgICAgICAgY2hlY2tsaXN0OiB0b2RvQ2hlY2tMaXN0LFxuICAgICAgfSwgb2JqKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGRlbGV0ZVRvZG9CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgIGRlbGV0ZVRvZG9CdG4uaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwiaWNvbmlmeVwiIGRhdGEtaWNvbj1cImljOmJhc2VsaW5lLWRlbGV0ZS1vdXRsaW5lXCIgZGF0YS1pbmxpbmU9XCJmYWxzZVwiPjwvc3Bhbj4nO1xuICAgIGRlbGV0ZVRvZG9CdG4uY2xhc3NMaXN0LmFkZCgnZGVsZXRlLXRvZG8nKTtcbiAgICBkZWxldGVUb2RvQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgcHJvamVjdC5kZWxldGVUb2RvKGluZGV4KTtcbiAgICAgIHByb2plY3RBcnJbcHJvamVjdEluZGV4XSA9IHByb2plY3Q7XG4gICAgICBzdG9yZUl0ZW0oJ3Byb2plY3RzJywgcHJvamVjdEFycik7XG4gICAgICB0b2RvSXRlbS5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgIHRvZG9JdGVtLmFwcGVuZENoaWxkKHRvZG9UaXRsZSk7XG4gICAgdG9kb0l0ZW0uYXBwZW5kQ2hpbGQodG9kb0Rlc2MpO1xuICAgIHRvZG9JdGVtLmFwcGVuZENoaWxkKHRvZG9EdWVEYXRlKTtcbiAgICB0b2RvSXRlbS5hcHBlbmRDaGlsZCh0b2RvTm90ZXMpO1xuICAgIHRvZG9JdGVtLmFwcGVuZENoaWxkKHN0YXRlQ29udHJvbHMpO1xuICAgIHRvZG9JdGVtLmFwcGVuZENoaWxkKGVkaXRCdG4pO1xuICAgIHRvZG9JdGVtLmFwcGVuZENoaWxkKGRlbGV0ZVRvZG9CdG4pO1xuXG4gICAgcGFyZW50LmFwcGVuZENoaWxkKHRvZG9JdGVtKTtcbiAgfTtcblxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3Qgb2JqID0gYXJyW2ldO1xuICAgIGNvbnN0IGluZGV4ID0gaTtcbiAgICB0b2RvSXRlbU1ha2VyKHRvZG9XcmFwLCBvYmosIGluZGV4LCBwcm9qZWN0KTtcbiAgfVxuXG4gIGJvZHlSaWdodC5hcHBlbmRDaGlsZCh0b2RvV3JhcCk7XG59O1xuXG5cbmNvbnN0IGNsZWFyRWxlbWVudCA9IChpZCkgPT4ge1xuICBjb25zdCBlbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gIGVsZS5pbm5lckhUTUwgPSAnJztcbn07XG5cbmNvbnN0IG5ld0xpc3QgPSAocHJvamVjdCwgYXJyLCBpbmRleCkgPT4ge1xuICBjb25zdCBvbGRGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0tY29udGFpbmVyJyk7XG4gIGlmIChvbGRGb3JtICE9IG51bGwpIHtcbiAgICBvbGRGb3JtLnJlbW92ZSgpO1xuICB9XG4gIGNvbnN0IGZvcm1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgYm9keVJpZ2h0LnByZXBlbmQoZm9ybUNvbnRhaW5lcik7XG4gIGZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnZm9ybS1jb250YWluZXInKTtcbiAgZm9ybUNvbnRhaW5lci5pZCA9ICgnZm9ybS1jb250YWluZXInKTtcblxuICBjb25zdCBsaXN0Rm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgbGlzdEZvcm0uY2xhc3NMaXN0LmFkZCgnbGlzdC1mb3JtJyk7XG4gIGZvcm1Db250YWluZXIuYXBwZW5kQ2hpbGQobGlzdEZvcm0pO1xuXG4gIGNvbnN0IHRvZG9UaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHRvZG9UaXRsZS5wbGFjZWhvbGRlciA9ICdFbnRlciBUaXRsZSc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKHRvZG9UaXRsZSk7XG5cbiAgY29uc3QgdG9kb0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb0Rlc2NyaXB0aW9uLnBsYWNlaG9sZGVyID0gJ0VudGVyIERlc2NyaXB0aW9uJztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQodG9kb0Rlc2NyaXB0aW9uKTtcblxuICBjb25zdCB0b2RvRHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHRvZG9EdWVEYXRlLnR5cGUgPSAnZGF0ZSc7XG4gIHRvZG9EdWVEYXRlLnBsYWNlaG9sZGVyID0gJ0VudGVyIERlc2NyaXB0aW9uJztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQodG9kb0R1ZURhdGUpO1xuXG4gIGNvbnN0IGxhYmVsSGlnaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGxhYmVsSGlnaC50ZXh0Q29udGVudCA9ICdVcmdlbnQnO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChsYWJlbEhpZ2gpO1xuXG4gIGNvbnN0IGhpZ2hQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGhpZ2hQcmlvcml0eS50eXBlID0gJ3JhZGlvJztcbiAgaGlnaFByaW9yaXR5Lm5hbWUgPSAncHJpb3JpdHknO1xuICBoaWdoUHJpb3JpdHkudmFsdWUgPSAnaGlnaCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKGhpZ2hQcmlvcml0eSk7XG5cbiAgY29uc3QgbGFiZWxNZWRpdW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBsYWJlbE1lZGl1bS50ZXh0Q29udGVudCA9ICdpbXBvcnRhbnQnO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChsYWJlbE1lZGl1bSk7XG5cbiAgY29uc3QgbWVkaXVtUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBtZWRpdW1Qcmlvcml0eS50eXBlID0gJ3JhZGlvJztcbiAgbWVkaXVtUHJpb3JpdHkubmFtZSA9ICdwcmlvcml0eSc7XG4gIG1lZGl1bVByaW9yaXR5LnZhbHVlID0gJ21lZGl1bSc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKG1lZGl1bVByaW9yaXR5KTtcblxuICBjb25zdCBsYWJlbExvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGxhYmVsTG93LnRleHRDb250ZW50ID0gJ25vcm1hbCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKGxhYmVsTG93KTtcblxuICBjb25zdCBsb3dQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGxvd1ByaW9yaXR5LnR5cGUgPSAncmFkaW8nO1xuICBsb3dQcmlvcml0eS5uYW1lID0gJ3ByaW9yaXR5JztcbiAgbG93UHJpb3JpdHkudmFsdWUgPSAnbG93JztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQobG93UHJpb3JpdHkpO1xuXG4gIGNvbnN0IHRvZG9Ob3RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb05vdGUucGxhY2Vob2xkZXIgPSAnQWRkIE5vdGUnO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvTm90ZSk7XG5cbiAgY29uc3QgY29tcGxldGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGNvbXBsZXRlTGFiZWwudGV4dENvbnRlbnQgPSAnQ29tcGxldGVkJztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQoY29tcGxldGVMYWJlbCk7XG5cbiAgY29uc3QgdG9kb0NoZWNrTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHRvZG9DaGVja0xpc3QudHlwZSA9ICdjaGVja2JveCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKHRvZG9DaGVja0xpc3QpO1xuXG4gIGNvbnN0IHRvZG9Qcmlvcml0eSA9ICgpID0+IHtcbiAgICBpZiAoaGlnaFByaW9yaXR5LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBoaWdoUHJpb3JpdHkudmFsdWU7XG4gICAgfSBpZiAobWVkaXVtUHJpb3JpdHkuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIG1lZGl1bVByaW9yaXR5LnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbG93UHJpb3JpdHkudmFsdWU7XG4gIH07XG5cbiAgY29uc3QgdG9kb0NvbXBsZXRlID0gKCkgPT4gKCh0b2RvQ2hlY2tMaXN0LmNoZWNrZWQgPT09IHRydWUpID8gJ2NvbXBsZXRlZCcgOiAncGVuZGluZycpO1xuXG4gIGNvbnN0IHRvZG9CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgdG9kb0J0bi50eXBlID0gJ2J1dHRvbic7XG4gIHRvZG9CdG4udGV4dENvbnRlbnQgPSAnKyc7XG4gIHRvZG9CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcHJvamVjdC5hZGRUb2RvKG5ldyBUb2RvKFxuICAgICAgdG9kb1RpdGxlLnZhbHVlLFxuICAgICAgdG9kb0Rlc2NyaXB0aW9uLnZhbHVlLFxuICAgICAgdG9kb0R1ZURhdGUudmFsdWUsXG4gICAgICB0b2RvUHJpb3JpdHkoKSxcbiAgICAgIHRvZG9Ob3RlLnZhbHVlLFxuICAgICAgdG9kb0NvbXBsZXRlKCksXG4gICAgKSk7XG4gICAgYXJyW2luZGV4XSA9IHByb2plY3Q7XG4gICAgc3RvcmVJdGVtKCdwcm9qZWN0cycsIGFycik7XG4gICAgY2xlYXJFbGVtZW50KCd0b2RvLXdyYXAnKTtcbiAgICBkaXNwbGF5VG9kb0l0ZW1zKHByb2plY3QudG9kb3MsIHByb2plY3QsIGFyciwgaW5kZXgpO1xuICAgIGZvcm1Db250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gIH0pO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvQnRuKTtcbn07XG5cbmNvbnN0IHNob3dGb3JtQnRuID0gKHByb2plY3QsIGFyciwgaW5kZXgpID0+IHtcbiAgY29uc3Qgb2xkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Nob3ctcHJvamVjdC1mb3JtLWJ0bicpO1xuICBpZiAob2xkQnRuICE9IG51bGwpIHtcbiAgICBvbGRCdG4ucmVtb3ZlKCk7XG4gIH1cbiAgY29uc3Qgc2hvd0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBzaG93QnRuLmlkID0gJ3Nob3ctcHJvamVjdC1mb3JtLWJ0bic7XG4gIHNob3dCdG4udHlwZSA9ICdidXR0b24nO1xuICBzaG93QnRuLnRleHRDb250ZW50ID0gJ0NyZWF0ZSBOZXcgVG9Ebyc7XG4gIHNob3dCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbmV3TGlzdChwcm9qZWN0LCBhcnIsIGluZGV4KTtcbiAgfSk7XG4gIGJvZHlSaWdodC5hcHBlbmRDaGlsZChzaG93QnRuKTtcbn07XG5cblxuY29uc3QgZGlzcGxheVByb2plY3RzID0gKGFycikgPT4ge1xuICBjb25zdCBvbGRGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3QtZm9ybS1jb250YWluZXInKTtcbiAgaWYgKG9sZEZvcm0gIT0gbnVsbCkge1xuICAgIG9sZEZvcm0ucmVtb3ZlKCk7XG4gIH1cbiAgY29uc3Qgb2xkUHJvamVjdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdC13cmFwJyk7XG4gIGlmIChvbGRQcm9qZWN0cyAhPSBudWxsKSB7XG4gICAgb2xkUHJvamVjdHMucmVtb3ZlKCk7XG4gIH1cblxuICBjb25zdCBwcm9qZWN0V3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBwcm9qZWN0V3JhcC5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LXdyYXAnKTtcbiAgcHJvamVjdFdyYXAuaWQgPSAncHJvamVjdC13cmFwJztcblxuICBjb25zdCBwcm9qZWN0SXRlbU1ha2VyID0gKHBhcmVudCwgcHJvamVjdCwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBwcm9qZWN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb2plY3RJdGVtLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtaXRlbXMnKTtcbiAgICBwcm9qZWN0SXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHNob3dGb3JtQnRuKHByb2plY3QsIGFyciwgaW5kZXgpO1xuICAgICAgZGlzcGxheVRvZG9JdGVtcyhwcm9qZWN0LnRvZG9zLCBwcm9qZWN0LCBhcnIsIGluZGV4KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XG4gICAgcHJvamVjdFRpdGxlLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtdGl0bGUnKTtcbiAgICBwcm9qZWN0VGl0bGUudGV4dENvbnRlbnQgPSBgJHtwcm9qZWN0LnRpdGxlfSAoJHtwcm9qZWN0LnRvZG9zLmxlbmd0aH0pYDtcblxuICAgIHByb2plY3RJdGVtLmFwcGVuZENoaWxkKHByb2plY3RUaXRsZSk7XG5cbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQocHJvamVjdEl0ZW0pO1xuICB9O1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgcHJvamVjdCA9IGFycltpXTtcbiAgICBwcm9qZWN0SXRlbU1ha2VyKHByb2plY3RXcmFwLCBwcm9qZWN0LCBpKTtcbiAgfVxuXG4gIGJvZHlMZWZ0LmFwcGVuZENoaWxkKHByb2plY3RXcmFwKTtcbn07XG5cbmNvbnN0IG5ld1Byb2plY3QgPSAoKSA9PiB7XG4gIGNvbnN0IHByb2plY3RGb3JtQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtZm9ybS1jb250YWluZXInKTtcbiAgcHJvamVjdEZvcm1Db250YWluZXIuaWQgPSAncHJvamVjdC1mb3JtLWNvbnRhaW5lcic7XG4gIGJvZHlMZWZ0LmFwcGVuZENoaWxkKHByb2plY3RGb3JtQ29udGFpbmVyKTtcblxuXG4gIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICBwcm9qZWN0Rm9ybS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LWZvcm0nKTtcbiAgcHJvamVjdEZvcm1Db250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdEZvcm0pO1xuXG4gIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHByb2plY3RUaXRsZS5wbGFjZWhvbGRlciA9ICdQcm9qZWN0IFRpdGxlJztcbiAgcHJvamVjdEZvcm0uYXBwZW5kQ2hpbGQocHJvamVjdFRpdGxlKTtcblxuICBjb25zdCBhZGRQcm9qZWN0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIGFkZFByb2plY3RCdG4uaW5uZXJIVE1MID0gJ0NyZWF0ZSBQcm9qZWN0JztcbiAgYWRkUHJvamVjdEJ0bi5jbGFzc0xpc3QuYWRkKCdhZGQtcHJvamVjdC1idG4nKTtcbiAgYWRkUHJvamVjdEJ0bi50eXBlID0gJ2J1dHRvbic7XG4gIHByb2plY3RGb3JtLmFwcGVuZENoaWxkKGFkZFByb2plY3RCdG4pO1xuXG4gIGFkZFByb2plY3RCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgYWRkSXRlbSgncHJvamVjdHMnLCBuZXcgUHJvamVjdChwcm9qZWN0VGl0bGUudmFsdWUpKTtcbiAgICBkaXNwbGF5UHJvamVjdHMoZmV0Y2hJdGVtKCdwcm9qZWN0cycpKTtcbiAgfSk7XG59O1xuXG5jb25zdCBuZXdQcm9qZWN0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5uZXdQcm9qZWN0QnRuLmNsYXNzTGlzdC5hZGQoJ25ldy1wcm9qZWN0LWJ1dHRvbicpO1xubmV3UHJvamVjdEJ0bi5pbm5lckhUTUwgPSAnTmV3IFByb2plY3QnO1xuYm9keUxlZnQuYXBwZW5kQ2hpbGQobmV3UHJvamVjdEJ0bik7XG5uZXdQcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBuZXdQcm9qZWN0KCk7XG59KTtcblxuZXhwb3J0IHsgbmV3TGlzdCwgZGlzcGxheVRvZG9JdGVtcywgZGlzcGxheVByb2plY3RzIH07XG4iLCJpbXBvcnQgeyBkaXNwbGF5UHJvamVjdHMgfSBmcm9tICcuL2RvbSc7XG5pbXBvcnQgeyBmZXRjaEl0ZW0gfSBmcm9tICcuL2xvY2FsU3RvcmFnZSc7XG5cblxuZGlzcGxheVByb2plY3RzKGZldGNoSXRlbSgncHJvamVjdHMnKSk7XG4iXSwic291cmNlUm9vdCI6IiJ9