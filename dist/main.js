(()=>{"use strict";const e=function(e,t,n,d,o,c){this.title=e,this.description=t,this.dueDate=n,this.priority=d,this.notes=o,this.checklist=c,this.edit=(e,t,n,d,o,c)=>{this.title=e,this.description=t,this.dueDate=n,this.priority=d,this.notes=o,this.checklist=c},this.changePriority=(e,t)=>{e.innerHTML=t,this.priority=t},this.changeCompletionBtn=e=>{e.innerHTML="completed",this.checklist="completed"}};function t(e){this.title=e,this.todos=[],this.addTodo=e=>{this.todos.push(e)},this.deleteTodo=e=>{this.todos.splice(e,1)}}const n=document.getElementById("content"),d=document.createElement("div"),o=document.createElement("div");n.appendChild(d),n.appendChild(o);const c=e=>{const t=document.getElementById("todo-wrap");null!=t&&t.remove();const n=document.createElement("div");n.classList.add("todo-wrap"),n.id="todo-wrap";const d=(e,t)=>{const n=document.createElement("div");n.classList.add("todo-items");const d=document.createElement("h3");d.classList.add("todo-title"),d.textContent=t.title;const o=document.createElement("p");o.classList.add("todo-desc"),o.textContent=t.description;const c=document.createElement("p");c.classList.add("todo-date"),c.textContent=t.dueDate;const a=document.createElement("p");a.classList.add("todo-notes"),a.textContent=t.notes;const l=document.createElement("div");l.classList.add("todo-priority"),l.textContent=t.priority;const s=document.createElement("div");s.classList.add("priority-container");const r=document.createElement("button");r.innerHTML="Change to high",r.classList.add("high-priority"),r.addEventListener("click",(()=>{t.changePriority(l,"high")}));const p=document.createElement("button");p.innerHTML="Change to Medium",p.classList.add("medium-priority"),p.addEventListener("click",(()=>{t.changePriority(l,"medium")}));const m=document.createElement("button");m.innerHTML="Change to Low",m.classList.add("high-priority"),m.addEventListener("click",(()=>{t.changePriority(l,"low")})),s.appendChild(r),s.appendChild(p),s.appendChild(m);const u=document.createElement("div");u.classList.add("todo-checklist"),u.textContent=t.checklist;const h=document.createElement("button");h.innerHTML="Mark as completed",h.classList.add("change-completion"),h.addEventListener("click",(()=>{t.changeCompletionBtn(u)}));const C=document.createElement("button");C.innerHTML="edit",C.type="button",C.classList.add("edit-todo"),C.addEventListener("click",(()=>{i({title:d,description:o,dueDate:c,notes:a,priority:l,checklist:u},t)})),n.appendChild(d),n.appendChild(o),n.appendChild(c),n.appendChild(a),n.appendChild(l),n.appendChild(s),n.appendChild(u),n.appendChild(h),n.appendChild(C),e.appendChild(n)};for(let t=0;t<e.length;t+=1)d(n,e[t]);o.appendChild(n)},i=(e,t)=>{const n=document.createElement("div");n.classList.add("form-container"),n.classList.add("modal"),n.id="edit-todo-form",o.appendChild(n);const d=document.createElement("form");d.classList.add("list-form"),n.appendChild(d);const c=document.createElement("input");c.placeholder="Enter Title",c.value=t.title,d.appendChild(c);const i=document.createElement("input");i.placeholder="Enter Description",i.value=t.description,d.appendChild(i);const a=document.createElement("input");a.type="date",a.value=t.dueDate,d.appendChild(a);const l=document.createElement("label");l.textContent="Urgent",d.appendChild(l);const s=document.createElement("input");s.type="radio",s.name="priority",s.value="high",t.priority===s.value&&(s.checked=!0),d.appendChild(s);const r=document.createElement("label");r.textContent="important",d.appendChild(r);const p=document.createElement("input");p.type="radio",p.name="priority",p.value="medium",t.priority===p.value&&(p.checked=!0),d.appendChild(p);const m=document.createElement("label");m.textContent="normal",d.appendChild(m);const u=document.createElement("input");u.type="radio",u.name="priority",u.value="low",t.priority===u.value&&(u.checked=!0),d.appendChild(u);const h=document.createElement("input");h.placeholder="Add Note",h.value=t.notes,d.appendChild(h);const C=document.createElement("label");C.textContent="Completed",d.appendChild(C);const E=document.createElement("input");E.type="checkbox",E.checked="completed"===t.checklist,d.appendChild(E);const v=document.createElement("button");v.type="button",v.textContent="Save",v.addEventListener("click",(()=>{t.edit(c.value,i.value,a.value,!0===s.checked?s.value:!0===p.checked?p.value:u.value,h.value,!0===E.checked?"completed":"pending"),((e,t)=>{const n=document.getElementById("edit-todo-form");null!=n&&n.remove(),e.title.innerHTML=t.title,e.description.innerHTML=t.description,e.dueDate.innerHTML=t.dueDate,e.notes.innerHTML=t.notes,e.priority.innerHTML=t.priority,e.checklist.innerHTML=t.checklist})(e,t)})),d.appendChild(v)},a=t=>{const n=document.getElementById("project-form-container");null!=n&&n.remove();const i=document.getElementById("project-wrap");null!=i&&i.remove();const a=document.createElement("div");a.classList.add("project-wrap"),a.id="project-wrap";const l=(t,n)=>{const d=document.createElement("div");d.classList.add("project-items"),d.addEventListener("click",(()=>{(t=>{const n=document.getElementById("form-container");null!=n&&n.remove();const d=document.createElement("div");o.appendChild(d),d.classList.add("form-container"),d.id="form-container";const i=document.createElement("form");i.classList.add("list-form"),d.appendChild(i);const a=document.createElement("input");a.placeholder="Enter Title",i.appendChild(a);const l=document.createElement("input");l.placeholder="Enter Description",i.appendChild(l);const s=document.createElement("input");s.type="date",s.placeholder="Enter Description",i.appendChild(s);const r=document.createElement("label");r.textContent="Urgent",i.appendChild(r);const p=document.createElement("input");p.type="radio",p.name="priority",p.value="high",i.appendChild(p);const m=document.createElement("label");m.textContent="important",i.appendChild(m);const u=document.createElement("input");u.type="radio",u.name="priority",u.value="medium",i.appendChild(u);const h=document.createElement("label");h.textContent="normal",i.appendChild(h);const C=document.createElement("input");C.type="radio",C.name="priority",C.value="low",i.appendChild(C);const E=document.createElement("input");E.placeholder="Add Note",i.appendChild(E);const v=document.createElement("label");v.textContent="Completed",i.appendChild(v);const L=document.createElement("input");L.type="checkbox",i.appendChild(L);const y=document.createElement("button");y.type="button",y.textContent="add",y.addEventListener("click",(()=>{t.todos.push(new e(a.value,l.value,s.value,!0===p.checked?p.value:!0===u.checked?u.value:C.value,E.value,!0===L.checked?"completed":"pending")),document.getElementById("todo-wrap").innerHTML="",c(t.todos)})),i.appendChild(y)})(n),c(n.todos)}));const i=document.createElement("h3");i.classList.add("todo-title"),i.textContent=n.title,d.appendChild(i),t.appendChild(d)};for(let e=0;e<t.length;e+=1)l(a,t[e]);d.appendChild(a)},l=[],s=document.createElement("button");s.classList.add("new-project-button"),s.innerHTML="New Project",d.appendChild(s),s.addEventListener("click",(()=>{(e=>{const n=document.createElement("div");n.classList.add("project-form-container"),n.id="project-form-container",d.appendChild(n);const o=document.createElement("form");o.classList.add("project-form"),n.appendChild(o);const c=document.createElement("input");c.placeholder="Project Title",o.appendChild(c);const i=document.createElement("button");i.innerHTML="Create Project",i.type="button",o.appendChild(i),i.addEventListener("click",(()=>{e.push(new t(c.value)),a(e)}))})(l)}));const r=new t("Home");r.addTodo(new e("Todo Project One","Todo is about food","23/03/2010","high","this is a todo note","checked"));const p=new t("Project Two");p.addTodo(new e("Todo Project Two ONw","Todo is about food","23/03/2010","medium","this is a todo note","checked")),p.addTodo(new e("Todo Project Two two","Todo is about two","23/03/2010","high","this is a todo note","checked")),a([r,p])})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ub2RvTGlzdC8uL3NyYy9uZXdUb2RvLmpzIiwid2VicGFjazovL1RvZG9MaXN0Ly4vc3JjL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vVG9kb0xpc3QvLi9zcmMvZG9tLmpzIiwid2VicGFjazovL1RvZG9MaXN0Ly4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJub3RlcyIsImNoZWNrbGlzdCIsInRoaXMiLCJlZGl0IiwibmV3VGl0bGUiLCJuZXdkZXNjcmlwdGlvbiIsIm5ld0R1ZURhdGUiLCJuZXdQcmlvcml0eSIsIm5ld05vdGVzIiwibmV3Q2hlY2tsaXN0IiwiY2hhbmdlUHJpb3JpdHkiLCJ0YXJnZXQiLCJ0ZXh0IiwiaW5uZXJIVE1MIiwiY2hhbmdlQ29tcGxldGlvbkJ0biIsIlByb2plY3QiLCJ0b2RvcyIsImFkZFRvZG8iLCJvYmoiLCJwdXNoIiwiZGVsZXRlVG9kbyIsImluZGV4Iiwic3BsaWNlIiwiYm9keSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJib2R5TGVmdCIsImNyZWF0ZUVsZW1lbnQiLCJib2R5UmlnaHQiLCJhcHBlbmRDaGlsZCIsImRpc3BsYXlUb2RvSXRlbXMiLCJhcnIiLCJvbGRUb2RvcyIsInJlbW92ZSIsInRvZG9XcmFwIiwiY2xhc3NMaXN0IiwiYWRkIiwiaWQiLCJ0b2RvSXRlbU1ha2VyIiwicGFyZW50IiwidG9kb0l0ZW0iLCJ0b2RvVGl0bGUiLCJ0ZXh0Q29udGVudCIsInRvZG9EZXNjIiwidG9kb0R1ZURhdGUiLCJ0b2RvTm90ZXMiLCJ0b2RvUHJpb3JpdHkiLCJwcmlvcml0eUNvbnRhaW5lciIsImhpZ2hQcmlvcml0eSIsImFkZEV2ZW50TGlzdGVuZXIiLCJtZWRpdW1Qcmlvcml0eSIsIm5vcm1hbFByaW9yaXR5IiwidG9kb0NoZWNrTGlzdCIsImNoYW5nZWNvbXBsZXRpb24iLCJlZGl0QnRuIiwidHlwZSIsImRpc3BsYXlFZGl0Rm9ybSIsImkiLCJsZW5ndGgiLCJkb21PYmoiLCJmb3JtQ29udGFpbmVyIiwibGlzdEZvcm0iLCJwbGFjZWhvbGRlciIsInZhbHVlIiwidG9kb0Rlc2NyaXB0aW9uIiwibGFiZWxIaWdoIiwibmFtZSIsImNoZWNrZWQiLCJsYWJlbE1lZGl1bSIsImxhYmVsTG93IiwibG93UHJpb3JpdHkiLCJ0b2RvTm90ZSIsImNvbXBsZXRlTGFiZWwiLCJzYXZlVG9kb0J0biIsInRvZG9PYmoiLCJvbGRGb3JtIiwidXBkYXRlVG9kb0l0ZW0iLCJkaXNwbGF5UHJvamVjdHMiLCJvbGRQcm9qZWN0cyIsInByb2plY3RXcmFwIiwicHJvamVjdEl0ZW1NYWtlciIsInByb2plY3RJdGVtIiwidG9kb0J0biIsIm5ld0xpc3QiLCJwcm9qZWN0VGl0bGUiLCJwcm9qZWN0cyIsIm5ld1Byb2plY3RCdG4iLCJwcm9qZWN0QXJyIiwicHJvamVjdEZvcm1Db250YWluZXIiLCJwcm9qZWN0Rm9ybSIsImFkZFByb2plY3RCdG4iLCJuZXdQcm9qZWN0IiwicHJvamVjdE9uZSIsInByb2plY3RUd28iXSwibWFwcGluZ3MiOiJtQkE0QkEsUUE1QkEsU0FBY0EsRUFBT0MsRUFBYUMsRUFBU0MsRUFBVUMsRUFBT0MsR0FDMURDLEtBQUtOLE1BQVFBLEVBQ2JNLEtBQUtMLFlBQWNBLEVBQ25CSyxLQUFLSixRQUFVQSxFQUNmSSxLQUFLSCxTQUFXQSxFQUNoQkcsS0FBS0YsTUFBUUEsRUFDYkUsS0FBS0QsVUFBWUEsRUFFakJDLEtBQUtDLEtBQU8sQ0FBQ0MsRUFBVUMsRUFBZ0JDLEVBQVlDLEVBQWFDLEVBQVVDLEtBQ3hFUCxLQUFLTixNQUFRUSxFQUNiRixLQUFLTCxZQUFjUSxFQUNuQkgsS0FBS0osUUFBVVEsRUFDZkosS0FBS0gsU0FBV1EsRUFDaEJMLEtBQUtGLE1BQVFRLEVBQ2JOLEtBQUtELFVBQVlRLEdBR25CUCxLQUFLUSxlQUFpQixDQUFDQyxFQUFRQyxLQUM3QkQsRUFBT0UsVUFBWUQsRUFDbkJWLEtBQUtILFNB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QUFNNEUsRUFBYSxJQUFJOUUsRUFBUSxlQUMvQjhFLEVBQVc1RSxRQUFRLElBQUksRUFDckIsdUJBQ0EscUJBQ0EsYUFDQSxTQUNBLHNCQUNBLFlBR0Y0RSxFQUFXNUUsUUFBUSxJQUFJLEVBQ3JCLHVCQUNBLG9CQUNBLGFBQ0EsT0FDQSxzQkFDQSxZQUlGNEQsRUFEaUIsQ0FBQ2UsRUFBWUMsSyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gVG9kbyh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBub3RlcywgY2hlY2tsaXN0KSB7XG4gIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gIHRoaXMubm90ZXMgPSBub3RlcztcbiAgdGhpcy5jaGVja2xpc3QgPSBjaGVja2xpc3Q7XG5cbiAgdGhpcy5lZGl0ID0gKG5ld1RpdGxlLCBuZXdkZXNjcmlwdGlvbiwgbmV3RHVlRGF0ZSwgbmV3UHJpb3JpdHksIG5ld05vdGVzLCBuZXdDaGVja2xpc3QpID0+IHtcbiAgICB0aGlzLnRpdGxlID0gbmV3VGl0bGU7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IG5ld2Rlc2NyaXB0aW9uO1xuICAgIHRoaXMuZHVlRGF0ZSA9IG5ld0R1ZURhdGU7XG4gICAgdGhpcy5wcmlvcml0eSA9IG5ld1ByaW9yaXR5O1xuICAgIHRoaXMubm90ZXMgPSBuZXdOb3RlcztcbiAgICB0aGlzLmNoZWNrbGlzdCA9IG5ld0NoZWNrbGlzdDtcbiAgfTtcblxuICB0aGlzLmNoYW5nZVByaW9yaXR5ID0gKHRhcmdldCwgdGV4dCkgPT4ge1xuICAgIHRhcmdldC5pbm5lckhUTUwgPSB0ZXh0O1xuICAgIHRoaXMucHJpb3JpdHkgPSB0ZXh0O1xuICB9O1xuXG4gIHRoaXMuY2hhbmdlQ29tcGxldGlvbkJ0biA9ICh0YXJnZXQpID0+IHtcbiAgICB0YXJnZXQuaW5uZXJIVE1MID0gJ2NvbXBsZXRlZCc7XG4gICAgdGhpcy5jaGVja2xpc3QgPSAnY29tcGxldGVkJztcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVG9kbztcbiIsImZ1bmN0aW9uIFByb2plY3QodGl0bGUpIHtcbiAgdGhpcy50aXRsZSA9IHRpdGxlO1xuXG4gIHRoaXMudG9kb3MgPSBbXTtcblxuICB0aGlzLmFkZFRvZG8gPSAob2JqKSA9PiB7XG4gICAgdGhpcy50b2Rvcy5wdXNoKG9iaik7XG4gIH07XG5cbiAgdGhpcy5kZWxldGVUb2RvID0gKGluZGV4KSA9PiB7XG4gICAgdGhpcy50b2Rvcy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9O1xufVxuXG5leHBvcnQgeyBQcm9qZWN0IGFzIGRlZmF1bHQgfTsiLCJpbXBvcnQgVG9kbyBmcm9tICcuL25ld1RvZG8nO1xuaW1wb3J0IFByb2plY3QgZnJvbSAnLi9wcm9qZWN0JztcblxuY29uc3QgYm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50Jyk7XG5jb25zdCBib2R5TGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuY29uc3QgYm9keVJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbmJvZHkuYXBwZW5kQ2hpbGQoYm9keUxlZnQpO1xuYm9keS5hcHBlbmRDaGlsZChib2R5UmlnaHQpO1xuXG5jb25zdCB1cGRhdGVUb2RvSXRlbSA9IChkb21PYmosIHRvZG9PYmopID0+IHtcbiAgY29uc3Qgb2xkRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0LXRvZG8tZm9ybScpO1xuICBpZiAob2xkRm9ybSAhPSBudWxsKSB7XG4gICAgb2xkRm9ybS5yZW1vdmUoKTtcbiAgfVxuICBkb21PYmoudGl0bGUuaW5uZXJIVE1MID0gdG9kb09iai50aXRsZTtcbiAgZG9tT2JqLmRlc2NyaXB0aW9uLmlubmVySFRNTCA9IHRvZG9PYmouZGVzY3JpcHRpb247XG4gIGRvbU9iai5kdWVEYXRlLmlubmVySFRNTCA9IHRvZG9PYmouZHVlRGF0ZTtcbiAgZG9tT2JqLm5vdGVzLmlubmVySFRNTCA9IHRvZG9PYmoubm90ZXM7XG4gIGRvbU9iai5wcmlvcml0eS5pbm5lckhUTUwgPSB0b2RvT2JqLnByaW9yaXR5O1xuICBkb21PYmouY2hlY2tsaXN0LmlubmVySFRNTCA9IHRvZG9PYmouY2hlY2tsaXN0O1xufTtcblxuY29uc3QgZGlzcGxheVRvZG9JdGVtcyA9IChhcnIpID0+IHtcbiAgY29uc3Qgb2xkVG9kb3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kby13cmFwJyk7XG4gIGlmIChvbGRUb2RvcyAhPSBudWxsKSB7XG4gICAgb2xkVG9kb3MucmVtb3ZlKCk7XG4gIH1cbiAgY29uc3QgdG9kb1dyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdG9kb1dyYXAuY2xhc3NMaXN0LmFkZCgndG9kby13cmFwJyk7XG4gIHRvZG9XcmFwLmlkID0gJ3RvZG8td3JhcCc7XG5cbiAgY29uc3QgdG9kb0l0ZW1NYWtlciA9IChwYXJlbnQsIG9iaikgPT4ge1xuICAgIGNvbnN0IHRvZG9JdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdG9kb0l0ZW0uY2xhc3NMaXN0LmFkZCgndG9kby1pdGVtcycpO1xuXG4gICAgY29uc3QgdG9kb1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICB0b2RvVGl0bGUuY2xhc3NMaXN0LmFkZCgndG9kby10aXRsZScpO1xuICAgIHRvZG9UaXRsZS50ZXh0Q29udGVudCA9IG9iai50aXRsZTtcblxuICAgIGNvbnN0IHRvZG9EZXNjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIHRvZG9EZXNjLmNsYXNzTGlzdC5hZGQoJ3RvZG8tZGVzYycpO1xuICAgIHRvZG9EZXNjLnRleHRDb250ZW50ID0gb2JqLmRlc2NyaXB0aW9uO1xuXG4gICAgY29uc3QgdG9kb0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgdG9kb0R1ZURhdGUuY2xhc3NMaXN0LmFkZCgndG9kby1kYXRlJyk7XG4gICAgdG9kb0R1ZURhdGUudGV4dENvbnRlbnQgPSBvYmouZHVlRGF0ZTtcblxuICAgIGNvbnN0IHRvZG9Ob3RlcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICB0b2RvTm90ZXMuY2xhc3NMaXN0LmFkZCgndG9kby1ub3RlcycpO1xuICAgIHRvZG9Ob3Rlcy50ZXh0Q29udGVudCA9IG9iai5ub3RlcztcblxuICAgIGNvbnN0IHRvZG9Qcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRvZG9Qcmlvcml0eS5jbGFzc0xpc3QuYWRkKCd0b2RvLXByaW9yaXR5Jyk7XG4gICAgdG9kb1ByaW9yaXR5LnRleHRDb250ZW50ID0gb2JqLnByaW9yaXR5O1xuXG4gICAgY29uc3QgcHJpb3JpdHlDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBwcmlvcml0eUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdwcmlvcml0eS1jb250YWluZXInKTtcblxuXG4gICAgY29uc3QgaGlnaFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgaGlnaFByaW9yaXR5LmlubmVySFRNTCA9ICdDaGFuZ2UgdG8gaGlnaCc7XG4gICAgaGlnaFByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ2hpZ2gtcHJpb3JpdHknKTtcbiAgICBoaWdoUHJpb3JpdHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBvYmouY2hhbmdlUHJpb3JpdHkodG9kb1ByaW9yaXR5LCAnaGlnaCcpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgbWVkaXVtUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBtZWRpdW1Qcmlvcml0eS5pbm5lckhUTUwgPSAnQ2hhbmdlIHRvIE1lZGl1bSc7XG4gICAgbWVkaXVtUHJpb3JpdHkuY2xhc3NMaXN0LmFkZCgnbWVkaXVtLXByaW9yaXR5Jyk7XG4gICAgbWVkaXVtUHJpb3JpdHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBvYmouY2hhbmdlUHJpb3JpdHkodG9kb1ByaW9yaXR5LCAnbWVkaXVtJyk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBub3JtYWxQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIG5vcm1hbFByaW9yaXR5LmlubmVySFRNTCA9ICdDaGFuZ2UgdG8gTG93JztcbiAgICBub3JtYWxQcmlvcml0eS5jbGFzc0xpc3QuYWRkKCdoaWdoLXByaW9yaXR5Jyk7XG4gICAgbm9ybWFsUHJpb3JpdHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBvYmouY2hhbmdlUHJpb3JpdHkodG9kb1ByaW9yaXR5LCAnbG93Jyk7XG4gICAgfSk7XG5cbiAgICBwcmlvcml0eUNvbnRhaW5lci5hcHBlbmRDaGlsZChoaWdoUHJpb3JpdHkpO1xuICAgIHByaW9yaXR5Q29udGFpbmVyLmFwcGVuZENoaWxkKG1lZGl1bVByaW9yaXR5KTtcbiAgICBwcmlvcml0eUNvbnRhaW5lci5hcHBlbmRDaGlsZChub3JtYWxQcmlvcml0eSk7XG5cblxuICAgIGNvbnN0IHRvZG9DaGVja0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0b2RvQ2hlY2tMaXN0LmNsYXNzTGlzdC5hZGQoJ3RvZG8tY2hlY2tsaXN0Jyk7XG4gICAgdG9kb0NoZWNrTGlzdC50ZXh0Q29udGVudCA9IG9iai5jaGVja2xpc3Q7XG5cbiAgICBjb25zdCBjaGFuZ2Vjb21wbGV0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgY2hhbmdlY29tcGxldGlvbi5pbm5lckhUTUwgPSAnTWFyayBhcyBjb21wbGV0ZWQnO1xuICAgIGNoYW5nZWNvbXBsZXRpb24uY2xhc3NMaXN0LmFkZCgnY2hhbmdlLWNvbXBsZXRpb24nKTtcbiAgICBjaGFuZ2Vjb21wbGV0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgb2JqLmNoYW5nZUNvbXBsZXRpb25CdG4odG9kb0NoZWNrTGlzdCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBlZGl0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgZWRpdEJ0bi5pbm5lckhUTUwgPSAnZWRpdCc7XG4gICAgZWRpdEJ0bi50eXBlID0gJ2J1dHRvbic7XG4gICAgZWRpdEJ0bi5jbGFzc0xpc3QuYWRkKCdlZGl0LXRvZG8nKTtcbiAgICBlZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZGlzcGxheUVkaXRGb3JtKHtcbiAgICAgICAgdGl0bGU6IHRvZG9UaXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb246IHRvZG9EZXNjLFxuICAgICAgICBkdWVEYXRlOiB0b2RvRHVlRGF0ZSxcbiAgICAgICAgbm90ZXM6IHRvZG9Ob3RlcyxcbiAgICAgICAgcHJpb3JpdHk6IHRvZG9Qcmlvcml0eSxcbiAgICAgICAgY2hlY2tsaXN0OiB0b2RvQ2hlY2tMaXN0LFxuICAgICAgfSwgb2JqKTtcbiAgICB9KTtcblxuICAgIHRvZG9JdGVtLmFwcGVuZENoaWxkKHRvZG9UaXRsZSk7XG4gICAgdG9kb0l0ZW0uYXBwZW5kQ2hpbGQodG9kb0Rlc2MpO1xuICAgIHRvZG9JdGVtLmFwcGVuZENoaWxkKHRvZG9EdWVEYXRlKTtcbiAgICB0b2RvSXRlbS5hcHBlbmRDaGlsZCh0b2RvTm90ZXMpO1xuICAgIHRvZG9JdGVtLmFwcGVuZENoaWxkKHRvZG9Qcmlvcml0eSk7XG4gICAgdG9kb0l0ZW0uYXBwZW5kQ2hpbGQocHJpb3JpdHlDb250YWluZXIpO1xuICAgIHRvZG9JdGVtLmFwcGVuZENoaWxkKHRvZG9DaGVja0xpc3QpO1xuICAgIHRvZG9JdGVtLmFwcGVuZENoaWxkKGNoYW5nZWNvbXBsZXRpb24pO1xuICAgIHRvZG9JdGVtLmFwcGVuZENoaWxkKGVkaXRCdG4pO1xuXG4gICAgcGFyZW50LmFwcGVuZENoaWxkKHRvZG9JdGVtKTtcbiAgfTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IG9iaiA9IGFycltpXTtcbiAgICB0b2RvSXRlbU1ha2VyKHRvZG9XcmFwLCBvYmopO1xuICB9XG5cbiAgYm9keVJpZ2h0LmFwcGVuZENoaWxkKHRvZG9XcmFwKTtcbn07XG5cbmNvbnN0IGRpc3BsYXlFZGl0Rm9ybSA9IChkb21PYmosIG9iaikgPT4ge1xuICBjb25zdCBmb3JtQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnZm9ybS1jb250YWluZXInKTtcbiAgZm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtb2RhbCcpO1xuICBmb3JtQ29udGFpbmVyLmlkID0gJ2VkaXQtdG9kby1mb3JtJztcbiAgYm9keVJpZ2h0LmFwcGVuZENoaWxkKGZvcm1Db250YWluZXIpO1xuXG4gIGNvbnN0IGxpc3RGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICBsaXN0Rm9ybS5jbGFzc0xpc3QuYWRkKCdsaXN0LWZvcm0nKTtcbiAgZm9ybUNvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0Rm9ybSk7XG5cbiAgY29uc3QgdG9kb1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb1RpdGxlLnBsYWNlaG9sZGVyID0gJ0VudGVyIFRpdGxlJztcbiAgdG9kb1RpdGxlLnZhbHVlID0gb2JqLnRpdGxlO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvVGl0bGUpO1xuXG4gIGNvbnN0IHRvZG9EZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHRvZG9EZXNjcmlwdGlvbi5wbGFjZWhvbGRlciA9ICdFbnRlciBEZXNjcmlwdGlvbic7XG4gIHRvZG9EZXNjcmlwdGlvbi52YWx1ZSA9IG9iai5kZXNjcmlwdGlvbjtcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQodG9kb0Rlc2NyaXB0aW9uKTtcblxuICBjb25zdCB0b2RvRHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHRvZG9EdWVEYXRlLnR5cGUgPSAnZGF0ZSc7XG4gIHRvZG9EdWVEYXRlLnZhbHVlID0gb2JqLmR1ZURhdGU7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKHRvZG9EdWVEYXRlKTtcblxuICBjb25zdCBsYWJlbEhpZ2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBsYWJlbEhpZ2gudGV4dENvbnRlbnQgPSAnVXJnZW50JztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQobGFiZWxIaWdoKTtcblxuICBjb25zdCBoaWdoUHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBoaWdoUHJpb3JpdHkudHlwZSA9ICdyYWRpbyc7XG4gIGhpZ2hQcmlvcml0eS5uYW1lID0gJ3ByaW9yaXR5JztcbiAgaGlnaFByaW9yaXR5LnZhbHVlID0gJ2hpZ2gnO1xuICBpZiAob2JqLnByaW9yaXR5ID09PSBoaWdoUHJpb3JpdHkudmFsdWUpIHtcbiAgICBoaWdoUHJpb3JpdHkuY2hlY2tlZCA9IHRydWU7XG4gIH1cbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQoaGlnaFByaW9yaXR5KTtcblxuICBjb25zdCBsYWJlbE1lZGl1bSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGxhYmVsTWVkaXVtLnRleHRDb250ZW50ID0gJ2ltcG9ydGFudCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKGxhYmVsTWVkaXVtKTtcblxuICBjb25zdCBtZWRpdW1Qcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIG1lZGl1bVByaW9yaXR5LnR5cGUgPSAncmFkaW8nO1xuICBtZWRpdW1Qcmlvcml0eS5uYW1lID0gJ3ByaW9yaXR5JztcbiAgbWVkaXVtUHJpb3JpdHkudmFsdWUgPSAnbWVkaXVtJztcbiAgaWYgKG9iai5wcmlvcml0eSA9PT0gbWVkaXVtUHJpb3JpdHkudmFsdWUpIHtcbiAgICBtZWRpdW1Qcmlvcml0eS5jaGVja2VkID0gdHJ1ZTtcbiAgfVxuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChtZWRpdW1Qcmlvcml0eSk7XG5cbiAgY29uc3QgbGFiZWxMb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBsYWJlbExvdy50ZXh0Q29udGVudCA9ICdub3JtYWwnO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChsYWJlbExvdyk7XG5cbiAgY29uc3QgbG93UHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBsb3dQcmlvcml0eS50eXBlID0gJ3JhZGlvJztcbiAgbG93UHJpb3JpdHkubmFtZSA9ICdwcmlvcml0eSc7XG4gIGxvd1ByaW9yaXR5LnZhbHVlID0gJ2xvdyc7XG4gIGlmIChvYmoucHJpb3JpdHkgPT09IGxvd1ByaW9yaXR5LnZhbHVlKSB7XG4gICAgbG93UHJpb3JpdHkuY2hlY2tlZCA9IHRydWU7XG4gIH1cbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQobG93UHJpb3JpdHkpO1xuXG4gIGNvbnN0IHRvZG9Ob3RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb05vdGUucGxhY2Vob2xkZXIgPSAnQWRkIE5vdGUnO1xuICB0b2RvTm90ZS52YWx1ZSA9IG9iai5ub3RlcztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQodG9kb05vdGUpO1xuXG4gIGNvbnN0IGNvbXBsZXRlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBjb21wbGV0ZUxhYmVsLnRleHRDb250ZW50ID0gJ0NvbXBsZXRlZCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKGNvbXBsZXRlTGFiZWwpO1xuXG4gIGNvbnN0IHRvZG9DaGVja0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICB0b2RvQ2hlY2tMaXN0LnR5cGUgPSAnY2hlY2tib3gnO1xuICB0b2RvQ2hlY2tMaXN0LmNoZWNrZWQgPSAob2JqLmNoZWNrbGlzdCA9PT0gJ2NvbXBsZXRlZCcpO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvQ2hlY2tMaXN0KTtcblxuICBjb25zdCB0b2RvUHJpb3JpdHkgPSAoKSA9PiB7XG4gICAgaWYgKGhpZ2hQcmlvcml0eS5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gaGlnaFByaW9yaXR5LnZhbHVlO1xuICAgIH0gaWYgKG1lZGl1bVByaW9yaXR5LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBtZWRpdW1Qcmlvcml0eS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGxvd1ByaW9yaXR5LnZhbHVlO1xuICB9O1xuXG4gIGNvbnN0IHRvZG9Db21wbGV0ZSA9ICgpID0+ICgodG9kb0NoZWNrTGlzdC5jaGVja2VkID09PSB0cnVlKSA/ICdjb21wbGV0ZWQnIDogJ3BlbmRpbmcnKTtcblxuICBjb25zdCBzYXZlVG9kb0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBzYXZlVG9kb0J0bi50eXBlID0gJ2J1dHRvbic7XG4gIHNhdmVUb2RvQnRuLnRleHRDb250ZW50ID0gJ1NhdmUnO1xuXG4gIHNhdmVUb2RvQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG9iai5lZGl0KFxuICAgICAgdG9kb1RpdGxlLnZhbHVlLFxuICAgICAgdG9kb0Rlc2NyaXB0aW9uLnZhbHVlLFxuICAgICAgdG9kb0R1ZURhdGUudmFsdWUsXG4gICAgICB0b2RvUHJpb3JpdHkoKSxcbiAgICAgIHRvZG9Ob3RlLnZhbHVlLFxuICAgICAgdG9kb0NvbXBsZXRlKCksXG4gICAgKTtcblxuICAgIHVwZGF0ZVRvZG9JdGVtKGRvbU9iaiwgb2JqKTtcbiAgfSk7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKHNhdmVUb2RvQnRuKTtcbn07XG5cblxuY29uc3QgY2xlYXJFbGVtZW50ID0gKGlkKSA9PiB7XG4gIGNvbnN0IGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgZWxlLmlubmVySFRNTCA9ICcnO1xufTtcblxuY29uc3QgbmV3TGlzdCA9IChvYmopID0+IHtcbiAgY29uc3Qgb2xkRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtLWNvbnRhaW5lcicpO1xuICBpZiAob2xkRm9ybSAhPSBudWxsKSB7XG4gICAgb2xkRm9ybS5yZW1vdmUoKTtcbiAgfVxuICBjb25zdCBmb3JtQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGJvZHlSaWdodC5hcHBlbmRDaGlsZChmb3JtQ29udGFpbmVyKTtcbiAgZm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmb3JtLWNvbnRhaW5lcicpO1xuICBmb3JtQ29udGFpbmVyLmlkID0gKCdmb3JtLWNvbnRhaW5lcicpO1xuXG4gIGNvbnN0IGxpc3RGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICBsaXN0Rm9ybS5jbGFzc0xpc3QuYWRkKCdsaXN0LWZvcm0nKTtcbiAgZm9ybUNvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0Rm9ybSk7XG5cbiAgY29uc3QgdG9kb1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb1RpdGxlLnBsYWNlaG9sZGVyID0gJ0VudGVyIFRpdGxlJztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQodG9kb1RpdGxlKTtcblxuICBjb25zdCB0b2RvRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICB0b2RvRGVzY3JpcHRpb24ucGxhY2Vob2xkZXIgPSAnRW50ZXIgRGVzY3JpcHRpb24nO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvRGVzY3JpcHRpb24pO1xuXG4gIGNvbnN0IHRvZG9EdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb0R1ZURhdGUudHlwZSA9ICdkYXRlJztcbiAgdG9kb0R1ZURhdGUucGxhY2Vob2xkZXIgPSAnRW50ZXIgRGVzY3JpcHRpb24nO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvRHVlRGF0ZSk7XG5cbiAgY29uc3QgbGFiZWxIaWdoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgbGFiZWxIaWdoLnRleHRDb250ZW50ID0gJ1VyZ2VudCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKGxhYmVsSGlnaCk7XG5cbiAgY29uc3QgaGlnaFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgaGlnaFByaW9yaXR5LnR5cGUgPSAncmFkaW8nO1xuICBoaWdoUHJpb3JpdHkubmFtZSA9ICdwcmlvcml0eSc7XG4gIGhpZ2hQcmlvcml0eS52YWx1ZSA9ICdoaWdoJztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQoaGlnaFByaW9yaXR5KTtcblxuICBjb25zdCBsYWJlbE1lZGl1bSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGxhYmVsTWVkaXVtLnRleHRDb250ZW50ID0gJ2ltcG9ydGFudCc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKGxhYmVsTWVkaXVtKTtcblxuICBjb25zdCBtZWRpdW1Qcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIG1lZGl1bVByaW9yaXR5LnR5cGUgPSAncmFkaW8nO1xuICBtZWRpdW1Qcmlvcml0eS5uYW1lID0gJ3ByaW9yaXR5JztcbiAgbWVkaXVtUHJpb3JpdHkudmFsdWUgPSAnbWVkaXVtJztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQobWVkaXVtUHJpb3JpdHkpO1xuXG4gIGNvbnN0IGxhYmVsTG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgbGFiZWxMb3cudGV4dENvbnRlbnQgPSAnbm9ybWFsJztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQobGFiZWxMb3cpO1xuXG4gIGNvbnN0IGxvd1ByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgbG93UHJpb3JpdHkudHlwZSA9ICdyYWRpbyc7XG4gIGxvd1ByaW9yaXR5Lm5hbWUgPSAncHJpb3JpdHknO1xuICBsb3dQcmlvcml0eS52YWx1ZSA9ICdsb3cnO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChsb3dQcmlvcml0eSk7XG5cbiAgY29uc3QgdG9kb05vdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICB0b2RvTm90ZS5wbGFjZWhvbGRlciA9ICdBZGQgTm90ZSc7XG4gIGxpc3RGb3JtLmFwcGVuZENoaWxkKHRvZG9Ob3RlKTtcblxuICBjb25zdCBjb21wbGV0ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgY29tcGxldGVMYWJlbC50ZXh0Q29udGVudCA9ICdDb21wbGV0ZWQnO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZChjb21wbGV0ZUxhYmVsKTtcblxuICBjb25zdCB0b2RvQ2hlY2tMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdG9kb0NoZWNrTGlzdC50eXBlID0gJ2NoZWNrYm94JztcbiAgbGlzdEZvcm0uYXBwZW5kQ2hpbGQodG9kb0NoZWNrTGlzdCk7XG5cbiAgY29uc3QgdG9kb1ByaW9yaXR5ID0gKCkgPT4ge1xuICAgIGlmIChoaWdoUHJpb3JpdHkuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGhpZ2hQcmlvcml0eS52YWx1ZTtcbiAgICB9IGlmIChtZWRpdW1Qcmlvcml0eS5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gbWVkaXVtUHJpb3JpdHkudmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBsb3dQcmlvcml0eS52YWx1ZTtcbiAgfTtcblxuICBjb25zdCB0b2RvQ29tcGxldGUgPSAoKSA9PiAoKHRvZG9DaGVja0xpc3QuY2hlY2tlZCA9PT0gdHJ1ZSkgPyAnY29tcGxldGVkJyA6ICdwZW5kaW5nJyk7XG5cbiAgY29uc3QgdG9kb0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICB0b2RvQnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgdG9kb0J0bi50ZXh0Q29udGVudCA9ICdhZGQnO1xuICB0b2RvQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG9iai50b2Rvcy5wdXNoKG5ldyBUb2RvKFxuICAgICAgdG9kb1RpdGxlLnZhbHVlLFxuICAgICAgdG9kb0Rlc2NyaXB0aW9uLnZhbHVlLFxuICAgICAgdG9kb0R1ZURhdGUudmFsdWUsXG4gICAgICB0b2RvUHJpb3JpdHkoKSxcbiAgICAgIHRvZG9Ob3RlLnZhbHVlLFxuICAgICAgdG9kb0NvbXBsZXRlKCksXG4gICAgKSk7XG4gICAgY2xlYXJFbGVtZW50KCd0b2RvLXdyYXAnKTtcbiAgICBkaXNwbGF5VG9kb0l0ZW1zKG9iai50b2Rvcyk7XG4gIH0pO1xuICBsaXN0Rm9ybS5hcHBlbmRDaGlsZCh0b2RvQnRuKTtcbn07XG5cbmNvbnN0IGRpc3BsYXlQcm9qZWN0cyA9IChhcnIpID0+IHtcbiAgY29uc3Qgb2xkRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0LWZvcm0tY29udGFpbmVyJyk7XG4gIGlmIChvbGRGb3JtICE9IG51bGwpIHtcbiAgICBvbGRGb3JtLnJlbW92ZSgpO1xuICB9XG4gIGNvbnN0IG9sZFByb2plY3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3Qtd3JhcCcpO1xuICBpZiAob2xkUHJvamVjdHMgIT0gbnVsbCkge1xuICAgIG9sZFByb2plY3RzLnJlbW92ZSgpO1xuICB9XG5cbiAgY29uc3QgcHJvamVjdFdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJvamVjdFdyYXAuY2xhc3NMaXN0LmFkZCgncHJvamVjdC13cmFwJyk7XG4gIHByb2plY3RXcmFwLmlkID0gJ3Byb2plY3Qtd3JhcCc7XG5cbiAgY29uc3QgcHJvamVjdEl0ZW1NYWtlciA9IChwYXJlbnQsIG9iaikgPT4ge1xuICAgIGNvbnN0IHByb2plY3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJvamVjdEl0ZW0uY2xhc3NMaXN0LmFkZCgncHJvamVjdC1pdGVtcycpO1xuICAgIHByb2plY3RJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgbmV3TGlzdChvYmopO1xuICAgICAgZGlzcGxheVRvZG9JdGVtcyhvYmoudG9kb3MpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDMnKTtcbiAgICBwcm9qZWN0VGl0bGUuY2xhc3NMaXN0LmFkZCgndG9kby10aXRsZScpO1xuICAgIHByb2plY3RUaXRsZS50ZXh0Q29udGVudCA9IG9iai50aXRsZTtcblxuICAgIHByb2plY3RJdGVtLmFwcGVuZENoaWxkKHByb2plY3RUaXRsZSk7XG5cbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQocHJvamVjdEl0ZW0pO1xuICB9O1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3Qgb2JqID0gYXJyW2ldO1xuICAgIHByb2plY3RJdGVtTWFrZXIocHJvamVjdFdyYXAsIG9iaik7XG4gIH1cblxuICBib2R5TGVmdC5hcHBlbmRDaGlsZChwcm9qZWN0V3JhcCk7XG59O1xuXG5jb25zdCBuZXdQcm9qZWN0ID0gKHByb2plY3RBcnIpID0+IHtcbiAgY29uc3QgcHJvamVjdEZvcm1Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJvamVjdEZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgncHJvamVjdC1mb3JtLWNvbnRhaW5lcicpO1xuICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5pZCA9ICdwcm9qZWN0LWZvcm0tY29udGFpbmVyJztcbiAgYm9keUxlZnQuYXBwZW5kQ2hpbGQocHJvamVjdEZvcm1Db250YWluZXIpO1xuXG5cbiAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gIHByb2plY3RGb3JtLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtZm9ybScpO1xuICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0Rm9ybSk7XG5cbiAgY29uc3QgcHJvamVjdFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgcHJvamVjdFRpdGxlLnBsYWNlaG9sZGVyID0gJ1Byb2plY3QgVGl0bGUnO1xuICBwcm9qZWN0Rm9ybS5hcHBlbmRDaGlsZChwcm9qZWN0VGl0bGUpO1xuXG4gIGNvbnN0IGFkZFByb2plY3RCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgYWRkUHJvamVjdEJ0bi5pbm5lckhUTUwgPSAnQ3JlYXRlIFByb2plY3QnO1xuICBhZGRQcm9qZWN0QnRuLnR5cGUgPSAnYnV0dG9uJztcbiAgcHJvamVjdEZvcm0uYXBwZW5kQ2hpbGQoYWRkUHJvamVjdEJ0bik7XG5cbiAgYWRkUHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBwcm9qZWN0QXJyLnB1c2gobmV3IFByb2plY3QocHJvamVjdFRpdGxlLnZhbHVlKSk7XG4gICAgZGlzcGxheVByb2plY3RzKHByb2plY3RBcnIpO1xuICB9KTtcbn07XG5cbmNvbnN0IHByb2plY3RzID0gW107XG5cblxuY29uc3QgbmV3UHJvamVjdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xubmV3UHJvamVjdEJ0bi5jbGFzc0xpc3QuYWRkKCduZXctcHJvamVjdC1idXR0b24nKTtcbm5ld1Byb2plY3RCdG4uaW5uZXJIVE1MID0gJ05ldyBQcm9qZWN0JztcbmJvZHlMZWZ0LmFwcGVuZENoaWxkKG5ld1Byb2plY3RCdG4pO1xubmV3UHJvamVjdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgbmV3UHJvamVjdChwcm9qZWN0cyk7XG59KTtcblxuZXhwb3J0IHsgbmV3TGlzdCwgZGlzcGxheVRvZG9JdGVtcywgZGlzcGxheVByb2plY3RzIH07XG4iLCJpbXBvcnQgeyBkaXNwbGF5UHJvamVjdHMgfSBmcm9tICcuL2RvbSc7XG5pbXBvcnQgVG9kbyBmcm9tICcuL25ld1RvZG8nO1xuaW1wb3J0IFByb2plY3QgZnJvbSAnLi9wcm9qZWN0JztcblxuY29uc3QgcHJvamVjdE9uZSA9IG5ldyBQcm9qZWN0KCdIb21lJyk7XG5wcm9qZWN0T25lLmFkZFRvZG8obmV3IFRvZG8oXG4gICdUb2RvIFByb2plY3QgT25lJyxcbiAgJ1RvZG8gaXMgYWJvdXQgZm9vZCcsXG4gICcyMy8wMy8yMDEwJyxcbiAgJ2hpZ2gnLFxuICAndGhpcyBpcyBhIHRvZG8gbm90ZScsXG4gICdjaGVja2VkJyxcbikpO1xuXG5jb25zdCBwcm9qZWN0VHdvID0gbmV3IFByb2plY3QoJ1Byb2plY3QgVHdvJyk7XG5wcm9qZWN0VHdvLmFkZFRvZG8obmV3IFRvZG8oXG4gICdUb2RvIFByb2plY3QgVHdvIE9OdycsXG4gICdUb2RvIGlzIGFib3V0IGZvb2QnLFxuICAnMjMvMDMvMjAxMCcsXG4gICdtZWRpdW0nLFxuICAndGhpcyBpcyBhIHRvZG8gbm90ZScsXG4gICdjaGVja2VkJyxcbikpO1xuXG5wcm9qZWN0VHdvLmFkZFRvZG8obmV3IFRvZG8oXG4gICdUb2RvIFByb2plY3QgVHdvIHR3bycsXG4gICdUb2RvIGlzIGFib3V0IHR3bycsXG4gICcyMy8wMy8yMDEwJyxcbiAgJ2hpZ2gnLFxuICAndGhpcyBpcyBhIHRvZG8gbm90ZScsXG4gICdjaGVja2VkJyxcbikpO1xuXG5jb25zdCBwcm9qZWN0cyA9IFtwcm9qZWN0T25lLCBwcm9qZWN0VHdvXTtcbmRpc3BsYXlQcm9qZWN0cyhwcm9qZWN0cyk7XG4vLyBuZXdMaXN0KHRvZG9zKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=